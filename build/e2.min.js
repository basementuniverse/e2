!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.E2=e():t.E2=e()}(this,()=>(()=>{"use strict";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t="element"){return`${t}-${Math.random().toString(36).substring(2,9)}`}function i(t,e,n,i={}){const o=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0,...i});return t.dispatchEvent(o)}function o(t,e){if(e&&document.getElementById(e))return;const n=document.createElement("style");e&&(n.id=e),n.textContent=t,document.head.appendChild(n)}function s(t){const e=document.createElement("template");return e.innerHTML=t.trim(),e}function a(t,e={mode:"open"}){return t.shadowRoot||t.attachShadow(e)}function r(t,e){let n;return function(...i){clearTimeout(n),n=window.setTimeout(()=>{clearTimeout(n),t(...i)},e)}}function l(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function d(t,e){t.classList.remove("theme-light","theme-dark","theme-auto"),t.classList.add(`theme-${e}`)}t.r(e),t.d(e,{VERSION:()=>T,addGlobalCSS:()=>o,applyTheme:()=>d,createTemplate:()=>s,debounce:()=>r,dispatchCustomEvent:()=>i,generateId:()=>n,getShadowRoot:()=>a,isElementVisible:()=>l});class h extends HTMLElement{static get observedAttributes(){return["theme","disabled","target"]}constructor(){super(),this._theme="auto",this._visible=!1,this._justShown=!1,this.boundContextMenuHandler=this.handleContextMenu.bind(this),this.setupElement(),this.bindEvents()}setupElement(){a(this).innerHTML="\n      <style>\n        :host {\n          position: fixed;\n          z-index: 9999;\n          display: none;\n          min-width: 180px;\n          background: var(--context-menu-bg, #ffffff);\n          border: 1px solid var(--context-menu-border, #d0d0d0);\n          border-radius: 4px;\n          box-shadow: var(--context-menu-shadow, 0 2px 8px rgba(0, 0, 0, 0.15));\n          padding: 4px 0;\n          font-family: inherit;\n          font-size: 14px;\n        }\n\n        :host([visible]) {\n          display: block;\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Light theme */\n        :host(.theme-light) {\n          background: var(--context-menu-bg-light, #ffffff);\n          border-color: var(--context-menu-border-light, #d0d0d0);\n          box-shadow: var(--context-menu-shadow-light, 0 2px 8px rgba(0, 0, 0, 0.15));\n        }\n\n        /* Dark theme */\n        :host(.theme-dark) {\n          background: var(--context-menu-bg-dark, #2a2a2a);\n          border-color: var(--context-menu-border-dark, #444444);\n          box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n        }\n\n        /* Auto theme - follows system preference */\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) {\n            background: var(--context-menu-bg-dark, #2a2a2a);\n            border-color: var(--context-menu-border-dark, #444444);\n            box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n          }\n        }\n\n        ::slotted(*) {\n          display: block;\n        }\n      </style>\n      <slot></slot>\n    "}bindEvents(){document.addEventListener("click",this.handleDocumentClick.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("resize",this.handleWindowResize.bind(this))}connectedCallback(){this.id||(this.id=n("context-menu")),this.applyTheme(this._theme),this.setupTargetListeners()}disconnectedCallback(){this.removeTargetListeners()}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"theme":this._theme=n||"auto",this.applyTheme(this._theme);break;case"target":this.removeTargetListeners(),this.setupTargetListeners();break;case"disabled":null!==n&&this._visible&&this.hide()}}setupTargetListeners(){const t=this.getAttribute("target");t&&document.querySelectorAll(t).forEach(t=>{t.addEventListener("contextmenu",this.boundContextMenuHandler)})}removeTargetListeners(){const t=this.getAttribute("target");t&&document.querySelectorAll(t).forEach(t=>{t.removeEventListener("contextmenu",this.boundContextMenuHandler)})}handleContextMenu(t){if(this.disabled)return;const e=t;e.preventDefault(),e.stopPropagation();const n=e.currentTarget;this.show(e.clientX,e.clientY,n)}handleDocumentClick(t){var e;if(!this._visible)return;if(this._justShown)return void(this._justShown=!1);const n=t.target;this.contains(n)||(null===(e=this.shadowRoot)||void 0===e?void 0:e.contains(n))||this.hide()}handleKeyDown(t){if(this._visible)switch(t.key){case"Escape":t.preventDefault(),this.hide();break;case"ArrowDown":t.preventDefault(),this.focusNextItem();break;case"ArrowUp":t.preventDefault(),this.focusPreviousItem();break;case"Enter":case" ":t.preventDefault(),this.activateFocusedItem()}}handleWindowResize(){this._visible&&this.hide()}focusNextItem(){const t=this.querySelectorAll("e2-context-menu-item:not([disabled])"),e=Array.from(t).findIndex(t=>{var e;return t===document.activeElement||(null===(e=t.shadowRoot)||void 0===e?void 0:e.activeElement)});t[e<t.length-1?e+1:0].focus()}focusPreviousItem(){const t=this.querySelectorAll("e2-context-menu-item:not([disabled])"),e=Array.from(t).findIndex(t=>{var e;return t===document.activeElement||(null===(e=t.shadowRoot)||void 0===e?void 0:e.activeElement)});t[e>0?e-1:t.length-1].focus()}activateFocusedItem(){const t=document.activeElement;t&&"e2-context-menu-ITEM"===t.tagName&&t.click()}get theme(){return this._theme}set theme(t){this._theme=t,this.setAttribute("theme",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get visible(){return this._visible}get target(){return this.getAttribute("target")}set target(t){t?this.setAttribute("target",t):this.removeAttribute("target")}show(t,e,n){this.disabled||(this._visible=!0,this.setAttribute("visible",""),this.style.left=`${t}px`,this.style.top=`${e}px`,this.adjustPosition(),this._justShown=!0,setTimeout(()=>{this._justShown=!1},50),this.applyTheme(this._theme),requestAnimationFrame(()=>{const t=this.querySelector("e2-context-menu-item:not([disabled])");t&&t.focus()}),i(this,"context-menu-show",{menuId:this.id,menu:this,x:t,y:e,trigger:n||this}))}hide(){this._visible&&(this._visible=!1,this.removeAttribute("visible"),i(this,"context-menu-hide",{menuId:this.id,menu:this}))}adjustPosition(){const t=this.getBoundingClientRect(),e=window.innerWidth,n=window.innerHeight;let i=parseInt(this.style.left),o=parseInt(this.style.top);i+t.width>e&&(i=e-t.width-10),i<10&&(i=10),o+t.height>n&&(o=n-t.height-10),o<10&&(o=10),this.style.left=`${i}px`,this.style.top=`${o}px`}applyTheme(t){this._theme=t,d(this,t),this.querySelectorAll("e2-context-menu-item, e2-context-menu-separator").forEach(e=>{"function"==typeof e.applyTheme&&e.applyTheme(t)})}}customElements.get("e2-context-menu")||customElements.define("e2-context-menu",h);class c extends HTMLElement{static get observedAttributes(){return["label","icon","theme","disabled","value","shortcut"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){const t=a(this);t.innerHTML='\n      <style>\n        :host {\n          display: block;\n        }\n\n        .item {\n          display: flex;\n          align-items: center;\n          padding: 8px 16px;\n          cursor: pointer;\n          color: var(--context-menu-item-color, #333);\n          background: transparent;\n          border: none;\n          width: 100%;\n          text-align: left;\n          font-family: inherit;\n          font-size: inherit;\n          line-height: 1.4;\n          transition: background-color 0.15s ease;\n          outline: none;\n        }\n\n        .item:hover,\n        .item:focus {\n          background: var(--context-menu-item-hover-bg, rgba(0, 0, 0, 0.1));\n        }\n\n        .item:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .item:disabled:hover {\n          background: transparent;\n        }\n\n        .icon {\n          width: 16px;\n          height: 16px;\n          margin-right: 8px;\n          flex-shrink: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .icon:empty {\n          margin-right: 0;\n          width: 0;\n        }\n\n        .content {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          min-width: 0;\n        }\n\n        .label {\n          flex: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .shortcut {\n          color: var(--context-menu-item-shortcut-color, #666);\n          font-size: 0.85em;\n          margin-left: 12px;\n          flex-shrink: 0;\n        }\n\n        /* Light theme */\n        :host(.theme-light) .item {\n          color: var(--context-menu-item-color-light, #333);\n        }\n\n        :host(.theme-light) .item:hover,\n        :host(.theme-light) .item:focus {\n          background: var(--context-menu-item-hover-bg-light, rgba(0, 0, 0, 0.1));\n        }\n\n        :host(.theme-light) .shortcut {\n          color: var(--context-menu-item-shortcut-color-light, #666);\n        }\n\n        /* Dark theme */\n        :host(.theme-dark) .item {\n          color: var(--context-menu-item-color-dark, #fff);\n        }\n\n        :host(.theme-dark) .item:hover,\n        :host(.theme-dark) .item:focus {\n          background: var(--context-menu-item-hover-bg-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        :host(.theme-dark) .shortcut {\n          color: var(--context-menu-item-shortcut-color-dark, #aaa);\n        }\n\n        /* Auto theme - follows system preference */\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) .item {\n            color: var(--context-menu-item-color-dark, #fff);\n          }\n\n          :host(.theme-auto) .item:hover,\n          :host(.theme-auto) .item:focus {\n            background: var(--context-menu-item-hover-bg-dark, rgba(255, 255, 255, 0.1));\n          }\n\n          :host(.theme-auto) .shortcut {\n            color: var(--context-menu-item-shortcut-color-dark, #aaa);\n          }\n        }\n      </style>\n      <button class="item" type="button">\n        <span class="icon"></span>\n        <div class="content">\n          <span class="label"></span>\n          <span class="shortcut"></span>\n        </div>\n      </button>\n    ';const e=t.querySelector(".item");e.addEventListener("click",this.handleClick.bind(this)),e.addEventListener("keydown",t=>this.handleKeyDown(t)),this.tabIndex=0,this.addEventListener("focus",this.handleFocus.bind(this))}connectedCallback(){this.id||(this.id=n("context-menu-item")),this.applyTheme(this._theme),this.updateContent()}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"theme":this._theme=n||"auto",this.applyTheme(this._theme);break;case"label":case"icon":case"shortcut":this.updateContent();break;case"disabled":this.updateDisabledState()}}updateContent(){var t;if(!this.shadowRoot)return;const e=this.shadowRoot.querySelector(".icon"),n=this.shadowRoot.querySelector(".label"),i=this.shadowRoot.querySelector(".shortcut"),o=this.getAttribute("icon");o?(e.textContent=o,e.style.display="flex"):(e.textContent="",e.style.display="none");const s=this.getAttribute("label")||(null===(t=this.textContent)||void 0===t?void 0:t.trim())||"";n.textContent=s;const a=this.getAttribute("shortcut");a?(i.textContent=a,i.style.display="block"):(i.textContent="",i.style.display="none")}updateDisabledState(){this.shadowRoot&&(this.shadowRoot.querySelector(".item").disabled=this.disabled)}handleClick(t){if(this.disabled)return;t.stopPropagation();const e=this.closest("e2-context-menu");i(this,"context-menu-item-click",{itemId:this.id,item:this,menuId:(null==e?void 0:e.id)||"",menu:e,value:this.value}),e&&"function"==typeof e.hide&&e.hide()}handleKeyDown(t){this.disabled||["ArrowDown","ArrowUp","Escape"].includes(t.key)||"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.handleClick(t))}handleFocus(){this.shadowRoot&&this.shadowRoot.querySelector(".item").focus()}get theme(){return this._theme}set theme(t){this._theme=t,this.setAttribute("theme",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get label(){return this.getAttribute("label")||""}set label(t){this.setAttribute("label",t)}get icon(){return this.getAttribute("icon")||""}set icon(t){t?this.setAttribute("icon",t):this.removeAttribute("icon")}get value(){return this.getAttribute("value")||this.label}set value(t){this.setAttribute("value",t)}get shortcut(){return this.getAttribute("shortcut")||""}set shortcut(t){t?this.setAttribute("shortcut",t):this.removeAttribute("shortcut")}click(){this.disabled||this.handleClick(new Event("click"))}focus(){super.focus(),this.handleFocus()}applyTheme(t){this._theme=t,d(this,t)}}customElements.get("e2-context-menu-item")||customElements.define("e2-context-menu-item",c);class u extends HTMLElement{static get observedAttributes(){return["theme"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){a(this).innerHTML='\n      <style>\n        :host {\n          display: block;\n          margin: 4px 0;\n        }\n\n        .separator {\n          height: 1px;\n          background: var(--context-menu-separator-color, #e0e0e0);\n          margin: 0 8px;\n        }\n\n        /* Light theme */\n        :host(.theme-light) .separator {\n          background: var(--context-menu-separator-color-light, #e0e0e0);\n        }\n\n        /* Dark theme */\n        :host(.theme-dark) .separator {\n          background: var(--context-menu-separator-color-dark, #555);\n        }\n\n        /* Auto theme - follows system preference */\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) .separator {\n            background: var(--context-menu-separator-color-dark, #555);\n          }\n        }\n      </style>\n      <div class="separator"></div>\n    '}connectedCallback(){this.applyTheme(this._theme)}attributeChangedCallback(t,e,n){e!==n&&"theme"===t&&(this._theme=n||"auto",this.applyTheme(this._theme))}get theme(){return this._theme}set theme(t){this._theme=t,this.setAttribute("theme",t)}get disabled(){return!1}set disabled(t){}applyTheme(t){this._theme=t,d(this,t)}}customElements.get("e2-context-menu-separator")||customElements.define("e2-context-menu-separator",u);class b extends HTMLElement{static get observedAttributes(){return["title","message","button-text","theme","type"]}constructor(){super(),this._theme="auto",this._nativeDialog=null,this._resolvePromise=null,this._rejectPromise=null,this.setupElement()}setupElement(){const t=a(this);t.innerHTML='\n      <style>\n        :host {\n          --dialog-bg: #ffffff;\n          --dialog-border: #e0e0e0;\n          --dialog-shadow: rgba(0, 0, 0, 0.25);\n          --dialog-backdrop: rgba(0, 0, 0, 0.5);\n          --text-color: #333333;\n          --text-secondary: #666666;\n          --button-bg: #007bff;\n          --button-hover: #0056b3;\n          --button-active: #004085;\n          --icon-info: #17a2b8;\n          --icon-success: #28a745;\n          --icon-warning: #ffc107;\n          --icon-error: #dc3545;\n\n          display: block;\n        }\n\n        :host(.theme-dark) {\n          --dialog-bg: #2d2d2d;\n          --dialog-border: #555555;\n          --dialog-shadow: rgba(0, 0, 0, 0.5);\n          --dialog-backdrop: rgba(0, 0, 0, 0.7);\n          --text-color: #ffffff;\n          --text-secondary: #cccccc;\n          --button-bg: #0d6efd;\n          --button-hover: #0b5ed7;\n          --button-active: #0a58ca;\n          --icon-info: #0dcaf0;\n          --icon-success: #198754;\n          --icon-warning: #fd7e14;\n          --icon-error: #dc3545;\n        }\n\n        dialog {\n          border: 1px solid var(--dialog-border);\n          border-radius: 8px;\n          padding: 0;\n          background: var(--dialog-bg);\n          color: var(--text-color);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          box-shadow: 0 8px 24px var(--dialog-shadow);\n          min-width: 320px;\n          max-width: 500px;\n          animation: dialog-fade-in 0.2s ease-out;\n        }\n\n        dialog::backdrop {\n          background: var(--dialog-backdrop);\n          animation: backdrop-fade-in 0.2s ease-out;\n        }\n\n        @keyframes dialog-fade-in {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes backdrop-fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .dialog-content {\n          padding: 24px;\n        }\n\n        .dialog-header {\n          display: flex;\n          align-items: flex-start;\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .dialog-icon {\n          flex-shrink: 0;\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 20px;\n          margin-top: 2px;\n        }\n\n        .dialog-icon.type-info {\n          color: var(--icon-info);\n        }\n\n        .dialog-icon.type-success {\n          color: var(--icon-success);\n        }\n\n        .dialog-icon.type-warning {\n          color: var(--icon-warning);\n        }\n\n        .dialog-icon.type-error {\n          color: var(--icon-error);\n        }\n\n        .dialog-text {\n          flex: 1;\n        }\n\n        .dialog-title {\n          font-size: 18px;\n          font-weight: 600;\n          margin: 0 0 8px 0;\n          color: var(--text-color);\n        }\n\n        .dialog-message {\n          color: var(--text-secondary);\n          line-height: 1.5;\n          margin: 0;\n          white-space: pre-wrap;\n        }\n\n        .dialog-buttons {\n          display: flex;\n          justify-content: center;\n          margin-top: 24px;\n        }\n\n        .dialog-button {\n          padding: 10px 24px;\n          border: none;\n          border-radius: 4px;\n          background: var(--button-bg);\n          color: white;\n          font-family: inherit;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.15s ease;\n          min-width: 100px;\n        }\n\n        .dialog-button:hover {\n          background: var(--button-hover);\n        }\n\n        .dialog-button:active {\n          background: var(--button-active);\n        }\n\n        .dialog-button:focus {\n          outline: 2px solid var(--button-bg);\n          outline-offset: 2px;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n      </style>\n\n      <dialog part="dialog">\n        <div class="dialog-content" part="content">\n          <div class="dialog-header" part="header">\n            <div class="dialog-icon type-info" part="icon">ℹ️</div>\n            <div class="dialog-text" part="text">\n              <h3 class="dialog-title" part="title">Information</h3>\n              <p class="dialog-message" part="message">This is an alert message.</p>\n            </div>\n          </div>\n\n          <div class="dialog-buttons" part="buttons">\n            <button class="dialog-button" part="button" type="button">\n              OK\n            </button>\n          </div>\n        </div>\n      </dialog>\n    ',this._nativeDialog=t.querySelector("dialog");const e=t.querySelector(".dialog-button");this._nativeDialog&&(this._nativeDialog.addEventListener("close",this.handleClose.bind(this)),this._nativeDialog.addEventListener("cancel",this.handleCancel.bind(this))),e&&e.addEventListener("click",()=>this.close()),this.applyTheme(this._theme),this.updateContent()}connectedCallback(){this.id||(this.id=n("alert-dialog"))}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"title":case"message":case"button-text":case"type":this.updateContent();break;case"theme":this._theme=n||"auto",this.applyTheme(this._theme)}}updateContent(){var t,e,n,i;const o=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-title"),s=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-message"),a=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".dialog-button"),r=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".dialog-icon");if(o&&(o.textContent=this.getAttribute("title")||this.getDefaultTitle()),s&&(s.textContent=this.getAttribute("message")||"This is an alert message."),a&&(a.textContent=this.getAttribute("button-text")||"OK"),r){const t=this.getAttribute("type")||"info";r.className=`dialog-icon type-${t}`,r.textContent=this.getIconForType(t)}}getDefaultTitle(){switch(this.getAttribute("type")||"info"){case"success":return"Success";case"warning":return"Warning";case"error":return"Error";default:return"Information"}}getIconForType(t){switch(t){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";default:return"ℹ️"}}handleClose(){this._resolvePromise&&(this._resolvePromise(),this._resolvePromise=null,this._rejectPromise=null),i(this,"alert-dialog-close",{dialogId:this.id,dialog:this})}handleCancel(t){i(this,"alert-dialog-cancel",{dialogId:this.id,dialog:this})?this.close():t.preventDefault()}close(){var t;this._resolvePromise&&(this._resolvePromise(),this._resolvePromise=null,this._rejectPromise=null),i(this,"alert-dialog-dismiss",{dialogId:this.id,dialog:this}),null===(t=this._nativeDialog)||void 0===t||t.close()}get theme(){return this._theme}set theme(t){this.setAttribute("theme",t)}get title(){return this.getAttribute("title")||this.getDefaultTitle()}set title(t){this.setAttribute("title",t)}get message(){return this.getAttribute("message")||"This is an alert message."}set message(t){this.setAttribute("message",t)}get buttonText(){return this.getAttribute("button-text")||"OK"}set buttonText(t){this.setAttribute("button-text",t)}get type(){return this.getAttribute("type")||"info"}set type(t){this.setAttribute("type",t)}get open(){var t;return(null===(t=this._nativeDialog)||void 0===t?void 0:t.open)||!1}show(){return new Promise((t,e)=>{var n,o;this._resolvePromise&&(null===(n=this._rejectPromise)||void 0===n||n.call(this,new Error("Dialog was replaced by another show() call"))),this._resolvePromise=t,this._rejectPromise=e,i(this,"alert-dialog-show",{dialogId:this.id,dialog:this}),null===(o=this._nativeDialog)||void 0===o||o.showModal()})}applyTheme(t){this._theme=t,d(this,t)}}customElements.get("e2-alert")||customElements.define("e2-alert",b);class p extends HTMLElement{static get observedAttributes(){return["title","message","confirm-text","cancel-text","theme","danger"]}constructor(){super(),this._theme="auto",this._nativeDialog=null,this._resolvePromise=null,this._rejectPromise=null,this.setupElement()}setupElement(){const t=a(this);t.innerHTML='\n      <style>\n        :host {\n          --dialog-bg: #ffffff;\n          --dialog-border: #e0e0e0;\n          --dialog-shadow: rgba(0, 0, 0, 0.25);\n          --dialog-backdrop: rgba(0, 0, 0, 0.5);\n          --text-color: #333333;\n          --text-secondary: #666666;\n          --button-bg: #f8f9fa;\n          --button-border: #e0e0e0;\n          --button-hover: #e9ecef;\n          --button-active: #dee2e6;\n          --confirm-bg: #007bff;\n          --confirm-hover: #0056b3;\n          --confirm-active: #004085;\n          --danger-bg: #dc3545;\n          --danger-hover: #c82333;\n          --danger-active: #bd2130;\n\n          display: block;\n        }\n\n        :host(.theme-dark) {\n          --dialog-bg: #2d2d2d;\n          --dialog-border: #555555;\n          --dialog-shadow: rgba(0, 0, 0, 0.5);\n          --dialog-backdrop: rgba(0, 0, 0, 0.7);\n          --text-color: #ffffff;\n          --text-secondary: #cccccc;\n          --button-bg: #404040;\n          --button-border: #555555;\n          --button-hover: #4a4a4a;\n          --button-active: #555555;\n          --confirm-bg: #0d6efd;\n          --confirm-hover: #0b5ed7;\n          --confirm-active: #0a58ca;\n          --danger-bg: #dc3545;\n          --danger-hover: #bb2d3b;\n          --danger-active: #b02a37;\n        }\n\n        dialog {\n          border: 1px solid var(--dialog-border);\n          border-radius: 8px;\n          padding: 0;\n          background: var(--dialog-bg);\n          color: var(--text-color);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          box-shadow: 0 8px 24px var(--dialog-shadow);\n          min-width: 320px;\n          max-width: 500px;\n          animation: dialog-fade-in 0.2s ease-out;\n        }\n\n        dialog::backdrop {\n          background: var(--dialog-backdrop);\n          animation: backdrop-fade-in 0.2s ease-out;\n        }\n\n        @keyframes dialog-fade-in {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes backdrop-fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .dialog-content {\n          padding: 24px;\n        }\n\n        .dialog-title {\n          font-size: 18px;\n          font-weight: 600;\n          margin: 0 0 16px 0;\n          color: var(--text-color);\n        }\n\n        .dialog-message {\n          color: var(--text-secondary);\n          line-height: 1.5;\n          margin: 0 0 24px 0;\n        }\n\n        .dialog-buttons {\n          display: flex;\n          justify-content: flex-end;\n          gap: 12px;\n        }\n\n        .dialog-button {\n          padding: 8px 16px;\n          border: 1px solid var(--button-border);\n          border-radius: 4px;\n          background: var(--button-bg);\n          color: var(--text-color);\n          font-family: inherit;\n          font-size: 14px;\n          cursor: pointer;\n          transition: all 0.15s ease;\n          min-width: 80px;\n        }\n\n        .dialog-button:hover {\n          background: var(--button-hover);\n        }\n\n        .dialog-button:active {\n          background: var(--button-active);\n        }\n\n        .dialog-button:focus {\n          outline: 2px solid var(--confirm-bg);\n          outline-offset: 2px;\n        }\n\n        .confirm-button {\n          background: var(--confirm-bg);\n          color: white;\n          border-color: var(--confirm-bg);\n        }\n\n        .confirm-button:hover {\n          background: var(--confirm-hover);\n          border-color: var(--confirm-hover);\n        }\n\n        .confirm-button:active {\n          background: var(--confirm-active);\n          border-color: var(--confirm-active);\n        }\n\n        :host([danger]) .confirm-button {\n          background: var(--danger-bg);\n          border-color: var(--danger-bg);\n        }\n\n        :host([danger]) .confirm-button:hover {\n          background: var(--danger-hover);\n          border-color: var(--danger-hover);\n        }\n\n        :host([danger]) .confirm-button:active {\n          background: var(--danger-active);\n          border-color: var(--danger-active);\n        }\n\n        :host([danger]) .confirm-button:focus {\n          outline-color: var(--danger-bg);\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n      </style>\n\n      <dialog part="dialog">\n        <div class="dialog-content" part="content">\n          <h3 class="dialog-title" part="title">Confirm</h3>\n          <p class="dialog-message" part="message">Are you sure?</p>\n\n          <div class="dialog-buttons" part="buttons">\n            <button class="dialog-button cancel-button" part="cancel-button" type="button">\n              Cancel\n            </button>\n            <button class="dialog-button confirm-button" part="confirm-button" type="button">\n              OK\n            </button>\n          </div>\n        </div>\n      </dialog>\n    ',this._nativeDialog=t.querySelector("dialog");const e=t.querySelector(".confirm-button"),n=t.querySelector(".cancel-button");this._nativeDialog&&(this._nativeDialog.addEventListener("close",this.handleClose.bind(this)),this._nativeDialog.addEventListener("cancel",this.handleCancel.bind(this))),e&&e.addEventListener("click",()=>this.confirm()),n&&n.addEventListener("click",()=>this.cancel()),this.applyTheme(this._theme),this.updateContent()}connectedCallback(){this.id||(this.id=n("confirm-dialog"))}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"title":case"message":case"confirm-text":case"cancel-text":this.updateContent();break;case"theme":this._theme=n||"auto",this.applyTheme(this._theme)}}updateContent(){var t,e,n,i;const o=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-title"),s=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-message"),a=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".confirm-button"),r=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".cancel-button");o&&(o.textContent=this.getAttribute("title")||"Confirm"),s&&(s.textContent=this.getAttribute("message")||"Are you sure?"),a&&(a.textContent=this.getAttribute("confirm-text")||"OK"),r&&(r.textContent=this.getAttribute("cancel-text")||"Cancel")}handleClose(){this._resolvePromise&&(this._resolvePromise(!1),this._resolvePromise=null,this._rejectPromise=null),i(this,"confirm-dialog-close",{dialogId:this.id,dialog:this,confirmed:!1})}handleCancel(t){i(this,"confirm-dialog-cancel",{dialogId:this.id,dialog:this})?this.cancel():t.preventDefault()}confirm(){var t;this._resolvePromise&&(this._resolvePromise(!0),this._resolvePromise=null,this._rejectPromise=null),i(this,"confirm-dialog-confirm",{dialogId:this.id,dialog:this,confirmed:!0}),null===(t=this._nativeDialog)||void 0===t||t.close("confirmed")}cancel(){var t;this._resolvePromise&&(this._resolvePromise(!1),this._resolvePromise=null,this._rejectPromise=null),i(this,"confirm-dialog-cancel",{dialogId:this.id,dialog:this,confirmed:!1}),null===(t=this._nativeDialog)||void 0===t||t.close("cancelled")}get theme(){return this._theme}set theme(t){this.setAttribute("theme",t)}get title(){return this.getAttribute("title")||"Confirm"}set title(t){this.setAttribute("title",t)}get message(){return this.getAttribute("message")||"Are you sure?"}set message(t){this.setAttribute("message",t)}get confirmText(){return this.getAttribute("confirm-text")||"OK"}set confirmText(t){this.setAttribute("confirm-text",t)}get cancelText(){return this.getAttribute("cancel-text")||"Cancel"}set cancelText(t){this.setAttribute("cancel-text",t)}get danger(){return this.hasAttribute("danger")}set danger(t){t?this.setAttribute("danger",""):this.removeAttribute("danger")}get open(){var t;return(null===(t=this._nativeDialog)||void 0===t?void 0:t.open)||!1}show(){return new Promise((t,e)=>{var n,o;this._resolvePromise&&(null===(n=this._rejectPromise)||void 0===n||n.call(this,new Error("Dialog was replaced by another show() call"))),this._resolvePromise=t,this._rejectPromise=e,i(this,"confirm-dialog-show",{dialogId:this.id,dialog:this}),null===(o=this._nativeDialog)||void 0===o||o.showModal()})}applyTheme(t){this._theme=t,d(this,t)}}customElements.get("e2-confirm")||customElements.define("e2-confirm",p);class g extends HTMLElement{static get observedAttributes(){return["title","theme","modal","closable","width","height"]}constructor(){super(),this._theme="auto",this._nativeDialog=null,this.setupElement()}setupElement(){const t=a(this);t.innerHTML='\n      <style>\n        :host {\n          --dialog-bg: #ffffff;\n          --dialog-border: #e0e0e0;\n          --dialog-shadow: rgba(0, 0, 0, 0.25);\n          --dialog-backdrop: rgba(0, 0, 0, 0.5);\n          --dialog-header-bg: #f8f9fa;\n          --dialog-header-border: #e0e0e0;\n          --text-color: #333333;\n          --close-button-hover: #f0f0f0;\n          --close-button-active: #e0e0e0;\n\n          display: block;\n        }\n\n        :host(.theme-dark) {\n          --dialog-bg: #2d2d2d;\n          --dialog-border: #555555;\n          --dialog-shadow: rgba(0, 0, 0, 0.5);\n          --dialog-backdrop: rgba(0, 0, 0, 0.7);\n          --dialog-header-bg: #404040;\n          --dialog-header-border: #555555;\n          --text-color: #ffffff;\n          --close-button-hover: #404040;\n          --close-button-active: #555555;\n        }\n\n        dialog {\n          border: 1px solid var(--dialog-border);\n          border-radius: 8px;\n          padding: 0;\n          background: var(--dialog-bg);\n          color: var(--text-color);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          box-shadow: 0 8px 24px var(--dialog-shadow);\n          min-width: 300px;\n          max-width: calc(100vw - 32px);\n          max-height: calc(100vh - 32px);\n          overflow: hidden;\n          animation: dialog-fade-in 0.2s ease-out;\n        }\n\n        dialog::backdrop {\n          background: var(--dialog-backdrop);\n          animation: backdrop-fade-in 0.2s ease-out;\n        }\n\n        @keyframes dialog-fade-in {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes backdrop-fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .dialog-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px 20px;\n          background: var(--dialog-header-bg);\n          border-bottom: 1px solid var(--dialog-header-border);\n          min-height: 24px;\n        }\n\n        .dialog-title {\n          font-weight: 600;\n          font-size: 16px;\n          margin: 0;\n        }\n\n        .close-button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 28px;\n          height: 28px;\n          border: none;\n          background: transparent;\n          border-radius: 4px;\n          cursor: pointer;\n          color: var(--text-color);\n          font-size: 18px;\n          transition: background-color 0.15s ease;\n        }\n\n        .close-button:hover {\n          background: var(--close-button-hover);\n        }\n\n        .close-button:active {\n          background: var(--close-button-active);\n        }\n\n        .close-button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .dialog-content {\n          padding: 20px;\n          overflow-y: auto;\n        }\n\n        .dialog-footer {\n          padding: 16px 20px;\n          border-top: 1px solid var(--dialog-header-border);\n          background: var(--dialog-header-bg);\n          display: flex;\n          justify-content: flex-end;\n          gap: 12px;\n        }\n\n        .dialog-footer:empty {\n          display: none;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n      </style>\n\n      <dialog part="dialog">\n        <div class="dialog-header" part="header">\n          <h3 class="dialog-title" part="title"></h3>\n          <button class="close-button" part="close-button" type="button" aria-label="Close dialog">\n            ×\n          </button>\n        </div>\n\n        <div class="dialog-content" part="content">\n          <slot></slot>\n        </div>\n\n        <div class="dialog-footer" part="footer">\n          <slot name="footer"></slot>\n        </div>\n      </dialog>\n    ',this._nativeDialog=t.querySelector("dialog");const e=t.querySelector(".close-button");this._nativeDialog&&(this._nativeDialog.addEventListener("close",this.handleClose.bind(this)),this._nativeDialog.addEventListener("cancel",this.handleCancel.bind(this))),e&&e.addEventListener("click",()=>this.close()),this.applyTheme(this._theme)}connectedCallback(){this.id||(this.id=n("dialog"))}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"title":this.updateTitle();break;case"theme":this._theme=n||"auto",this.applyTheme(this._theme);break;case"modal":break;case"closable":this.updateClosable();break;case"width":case"height":this.updateSize()}}updateTitle(){var t;const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-title");e&&(e.textContent=this.getAttribute("title")||"")}updateClosable(){var t;const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".close-button");if(e){const t="false"!==this.getAttribute("closable");e.disabled=!t,e.style.display=t?"flex":"none"}}updateSize(){if(this._nativeDialog){const t=this.getAttribute("width"),e=this.getAttribute("height");t&&(this._nativeDialog.style.width=t.includes("px")||t.includes("%")||t.includes("em")?t:`${t}px`),e&&(this._nativeDialog.style.height=e.includes("px")||e.includes("%")||e.includes("em")?e:`${e}px`)}}handleClose(){var t;i(this,"dialog-close",{dialogId:this.id,dialog:this,returnValue:null===(t=this._nativeDialog)||void 0===t?void 0:t.returnValue})}handleCancel(t){i(this,"dialog-cancel",{dialogId:this.id,dialog:this})||t.preventDefault()}get theme(){return this._theme}set theme(t){this.setAttribute("theme",t)}get title(){return this.getAttribute("title")||""}set title(t){this.setAttribute("title",t)}get modal(){return this.hasAttribute("modal")}set modal(t){t?this.setAttribute("modal",""):this.removeAttribute("modal")}get closable(){return"false"!==this.getAttribute("closable")}set closable(t){this.setAttribute("closable",t.toString())}get open(){var t;return(null===(t=this._nativeDialog)||void 0===t?void 0:t.open)||!1}get returnValue(){var t;return(null===(t=this._nativeDialog)||void 0===t?void 0:t.returnValue)||""}set returnValue(t){this._nativeDialog&&(this._nativeDialog.returnValue=t)}show(){this._nativeDialog&&(i(this,"dialog-show",{dialogId:this.id,dialog:this}),this._nativeDialog.show())}showModal(){this._nativeDialog&&(i(this,"dialog-show",{dialogId:this.id,dialog:this,modal:!0}),this._nativeDialog.showModal())}close(t){this._nativeDialog&&(void 0!==t&&(this._nativeDialog.returnValue=t),this._nativeDialog.close())}applyTheme(t){this._theme=t,d(this,t)}}customElements.get("e2-dialog")||customElements.define("e2-dialog",g);class m extends HTMLElement{static get observedAttributes(){return["title","message","placeholder","default-value","confirm-text","cancel-text","theme","required","multiline","pattern","min-length","max-length"]}constructor(){super(),this._theme="auto",this._nativeDialog=null,this._resolvePromise=null,this._rejectPromise=null,this.setupElement()}setupElement(){const t=a(this);t.innerHTML='\n      <style>\n        :host {\n          --dialog-bg: #ffffff;\n          --dialog-border: #e0e0e0;\n          --dialog-shadow: rgba(0, 0, 0, 0.25);\n          --dialog-backdrop: rgba(0, 0, 0, 0.5);\n          --text-color: #333333;\n          --text-secondary: #666666;\n          --input-bg: #ffffff;\n          --input-border: #d0d7de;\n          --input-border-focus: #0969da;\n          --input-border-error: #d1242f;\n          --button-bg: #f8f9fa;\n          --button-border: #e0e0e0;\n          --button-hover: #e9ecef;\n          --button-active: #dee2e6;\n          --confirm-bg: #007bff;\n          --confirm-hover: #0056b3;\n          --confirm-active: #004085;\n          --error-color: #d1242f;\n\n          display: block;\n        }\n\n        :host(.theme-dark) {\n          --dialog-bg: #2d2d2d;\n          --dialog-border: #555555;\n          --dialog-shadow: rgba(0, 0, 0, 0.5);\n          --dialog-backdrop: rgba(0, 0, 0, 0.7);\n          --text-color: #ffffff;\n          --text-secondary: #cccccc;\n          --input-bg: #21262d;\n          --input-border: #30363d;\n          --input-border-focus: #0969da;\n          --input-border-error: #f85149;\n          --button-bg: #404040;\n          --button-border: #555555;\n          --button-hover: #4a4a4a;\n          --button-active: #555555;\n          --confirm-bg: #0d6efd;\n          --confirm-hover: #0b5ed7;\n          --confirm-active: #0a58ca;\n          --error-color: #f85149;\n        }\n\n        dialog {\n          border: 1px solid var(--dialog-border);\n          border-radius: 8px;\n          padding: 0;\n          background: var(--dialog-bg);\n          color: var(--text-color);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          box-shadow: 0 8px 24px var(--dialog-shadow);\n          min-width: 400px;\n          max-width: 600px;\n          animation: dialog-fade-in 0.2s ease-out;\n        }\n\n        dialog::backdrop {\n          background: var(--dialog-backdrop);\n          animation: backdrop-fade-in 0.2s ease-out;\n        }\n\n        @keyframes dialog-fade-in {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes backdrop-fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .dialog-content {\n          padding: 24px;\n        }\n\n        .dialog-title {\n          font-size: 18px;\n          font-weight: 600;\n          margin: 0 0 8px 0;\n          color: var(--text-color);\n        }\n\n        .dialog-message {\n          color: var(--text-secondary);\n          line-height: 1.5;\n          margin: 0 0 16px 0;\n        }\n\n        .dialog-message:empty {\n          display: none;\n        }\n\n        .input-group {\n          margin-bottom: 20px;\n        }\n\n        .dialog-input {\n          width: 100%;\n          padding: 8px 12px;\n          border: 1px solid var(--input-border);\n          border-radius: 4px;\n          background: var(--input-bg);\n          color: var(--text-color);\n          font-family: inherit;\n          font-size: 14px;\n          transition: border-color 0.15s ease;\n          box-sizing: border-box;\n        }\n\n        .dialog-input:focus {\n          outline: none;\n          border-color: var(--input-border-focus);\n          box-shadow: 0 0 0 2px rgba(9, 105, 218, 0.3);\n        }\n\n        .dialog-input.error {\n          border-color: var(--input-border-error);\n        }\n\n        .dialog-input.error:focus {\n          box-shadow: 0 0 0 2px rgba(209, 36, 47, 0.3);\n        }\n\n        .dialog-textarea {\n          min-height: 80px;\n          resize: vertical;\n          font-family: inherit;\n        }\n\n        .error-message {\n          color: var(--error-color);\n          font-size: 12px;\n          margin-top: 4px;\n          display: none;\n        }\n\n        .error-message.visible {\n          display: block;\n        }\n\n        .dialog-buttons {\n          display: flex;\n          justify-content: flex-end;\n          gap: 12px;\n        }\n\n        .dialog-button {\n          padding: 8px 16px;\n          border: 1px solid var(--button-border);\n          border-radius: 4px;\n          background: var(--button-bg);\n          color: var(--text-color);\n          font-family: inherit;\n          font-size: 14px;\n          cursor: pointer;\n          transition: all 0.15s ease;\n          min-width: 80px;\n        }\n\n        .dialog-button:hover {\n          background: var(--button-hover);\n        }\n\n        .dialog-button:active {\n          background: var(--button-active);\n        }\n\n        .dialog-button:focus {\n          outline: 2px solid var(--confirm-bg);\n          outline-offset: 2px;\n        }\n\n        .dialog-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .confirm-button {\n          background: var(--confirm-bg);\n          color: white;\n          border-color: var(--confirm-bg);\n        }\n\n        .confirm-button:hover:not(:disabled) {\n          background: var(--confirm-hover);\n          border-color: var(--confirm-hover);\n        }\n\n        .confirm-button:active:not(:disabled) {\n          background: var(--confirm-active);\n          border-color: var(--confirm-active);\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n      </style>\n\n      <dialog part="dialog">\n        <div class="dialog-content" part="content">\n          <h3 class="dialog-title" part="title">Input Required</h3>\n          <p class="dialog-message" part="message"></p>\n\n          <div class="input-group" part="input-group">\n            <input class="dialog-input" part="input" type="text" />\n            <div class="error-message" part="error-message"></div>\n          </div>\n\n          <div class="dialog-buttons" part="buttons">\n            <button class="dialog-button cancel-button" part="cancel-button" type="button">\n              Cancel\n            </button>\n            <button class="dialog-button confirm-button" part="confirm-button" type="button">\n              OK\n            </button>\n          </div>\n        </div>\n      </dialog>\n    ',this._nativeDialog=t.querySelector("dialog");const e=t.querySelector(".confirm-button"),n=t.querySelector(".cancel-button"),i=t.querySelector(".dialog-input");this._nativeDialog&&(this._nativeDialog.addEventListener("close",this.handleClose.bind(this)),this._nativeDialog.addEventListener("cancel",this.handleCancel.bind(this))),e&&e.addEventListener("click",()=>this.confirm()),n&&n.addEventListener("click",()=>this.cancel()),i&&(i.addEventListener("input",this.handleInput.bind(this)),i.addEventListener("keydown",this.handleKeydown.bind(this))),this.applyTheme(this._theme),this.updateContent()}connectedCallback(){this.id||(this.id=n("prompt-dialog"))}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"title":case"message":case"placeholder":case"default-value":case"confirm-text":case"cancel-text":case"required":case"multiline":case"pattern":case"min-length":case"max-length":this.updateContent();break;case"theme":this._theme=n||"auto",this.applyTheme(this._theme)}}updateContent(){var t,e,n,i,o,s,a;const r=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-title"),l=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-message"),d=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".confirm-button"),h=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".cancel-button"),c=null===(o=this.shadowRoot)||void 0===o?void 0:o.querySelector(".dialog-input");if(r&&(r.textContent=this.getAttribute("title")||"Input Required"),l){const t=this.getAttribute("message")||"";l.textContent=t}if(d&&(d.textContent=this.getAttribute("confirm-text")||"OK"),h&&(h.textContent=this.getAttribute("cancel-text")||"Cancel"),c){const t=this.hasAttribute("multiline"),e=c.tagName.toLowerCase();if(t&&"input"===e){const t=document.createElement("textarea");t.className="dialog-input dialog-textarea",t.setAttribute("part","input"),null===(s=c.parentNode)||void 0===s||s.replaceChild(t,c),this.setupInputElement(t)}else if(t||"textarea"!==e)this.setupInputElement(c);else{const t=document.createElement("input");t.className="dialog-input",t.setAttribute("part","input"),t.type="text",null===(a=c.parentNode)||void 0===a||a.replaceChild(t,c),this.setupInputElement(t)}}}setupInputElement(t){const e=this.getAttribute("placeholder")||"",n=this.getAttribute("default-value")||"",i=this.getAttribute("pattern"),o=this.getAttribute("min-length"),s=this.getAttribute("max-length");t.placeholder=e,t.value=n,i&&t instanceof HTMLInputElement&&(t.pattern=i),o&&(t.minLength=parseInt(o,10)),s&&(t.maxLength=parseInt(s,10)),t.addEventListener("input",this.handleInput.bind(this)),t.addEventListener("keydown",t=>this.handleKeydown(t))}handleInput(){this.validateInput()}handleKeydown(t){"Enter"!==t.key||t.shiftKey||this.hasAttribute("multiline")?"Escape"===t.key&&(t.preventDefault(),this.cancel()):(t.preventDefault(),this.confirm())}validateInput(){var t,e,n;const i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-input"),o=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".error-message"),s=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".confirm-button");if(!i||!o||!s)return!1;let a=!0,r="";const l=i.value,d=this.hasAttribute("required"),h=this.getAttribute("pattern"),c=this.getAttribute("min-length"),u=this.getAttribute("max-length");return d&&!l.trim()&&(a=!1,r="This field is required"),a&&h&&l&&!new RegExp(h).test(l)&&(a=!1,r="Invalid format"),a&&c&&l.length<parseInt(c,10)&&(a=!1,r=`Minimum length is ${c} characters`),a&&u&&l.length>parseInt(u,10)&&(a=!1,r=`Maximum length is ${u} characters`),i.classList.toggle("error",!a),o.textContent=r,o.classList.toggle("visible",!a),s.disabled=!a,a}handleClose(){this._resolvePromise&&(this._resolvePromise(null),this._resolvePromise=null,this._rejectPromise=null),i(this,"prompt-dialog-close",{dialogId:this.id,dialog:this,value:null})}handleCancel(t){i(this,"prompt-dialog-cancel",{dialogId:this.id,dialog:this})?this.cancel():t.preventDefault()}confirm(){var t,e;if(!this.validateInput())return;const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-input"),o=(null==n?void 0:n.value)||"";this._resolvePromise&&(this._resolvePromise(o),this._resolvePromise=null,this._rejectPromise=null),i(this,"prompt-dialog-confirm",{dialogId:this.id,dialog:this,value:o}),null===(e=this._nativeDialog)||void 0===e||e.close(o)}cancel(){var t;this._resolvePromise&&(this._resolvePromise(null),this._resolvePromise=null,this._rejectPromise=null),i(this,"prompt-dialog-cancel",{dialogId:this.id,dialog:this,value:null}),null===(t=this._nativeDialog)||void 0===t||t.close()}get theme(){return this._theme}set theme(t){this.setAttribute("theme",t)}get title(){return this.getAttribute("title")||"Input Required"}set title(t){this.setAttribute("title",t)}get message(){return this.getAttribute("message")||""}set message(t){this.setAttribute("message",t)}get placeholder(){return this.getAttribute("placeholder")||""}set placeholder(t){this.setAttribute("placeholder",t)}get defaultValue(){return this.getAttribute("default-value")||""}set defaultValue(t){this.setAttribute("default-value",t)}get confirmText(){return this.getAttribute("confirm-text")||"OK"}set confirmText(t){this.setAttribute("confirm-text",t)}get cancelText(){return this.getAttribute("cancel-text")||"Cancel"}set cancelText(t){this.setAttribute("cancel-text",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get multiline(){return this.hasAttribute("multiline")}set multiline(t){t?this.setAttribute("multiline",""):this.removeAttribute("multiline")}get value(){var t;const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-input");return(null==e?void 0:e.value)||""}set value(t){var e;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-input");n&&(n.value=t,this.validateInput())}get open(){var t;return(null===(t=this._nativeDialog)||void 0===t?void 0:t.open)||!1}show(){return new Promise((t,e)=>{var n,o;this._resolvePromise&&(null===(n=this._rejectPromise)||void 0===n||n.call(this,new Error("Dialog was replaced by another show() call"))),this._resolvePromise=t,this._rejectPromise=e,i(this,"prompt-dialog-show",{dialogId:this.id,dialog:this}),null===(o=this._nativeDialog)||void 0===o||o.showModal(),setTimeout(()=>{var t;const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-input");null==e||e.focus(),null==e||e.select()},100)})}applyTheme(t){this._theme=t,d(this,t)}}customElements.get("e2-prompt")||customElements.define("e2-prompt",m);class v extends HTMLElement{static get observedAttributes(){return["theme","disabled","collapsed","orientation"]}constructor(){super(),this._theme="auto",this._collapsed=!1,this._orientation="vertical",this.setupElement()}setupElement(){const t=a(this);t.innerHTML='\n      <style>\n        :host {\n          display: block;\n          position: relative;\n          background: var(--panel-bg, #ffffff);\n          border: 1px solid var(--panel-border, #ccc);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          transition: all 0.3s ease;\n        }\n\n        :host(.theme-dark) {\n          background: var(--panel-bg-dark, #2d2d2d);\n          border-color: var(--panel-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Vertical orientation (default) */\n        :host([orientation="vertical"]) {\n          min-height: 200px;\n        }\n\n        :host([orientation="vertical"][collapsed]) {\n          min-height: 32px;\n          height: 32px;\n          overflow: hidden;\n        }\n\n        /* Horizontal orientation */\n        :host([orientation="horizontal"]) {\n          min-width: 200px;\n          display: inline-block;\n          vertical-align: top;\n        }\n\n        :host([orientation="horizontal"][collapsed]) {\n          min-width: 32px;\n          width: 32px;\n          overflow: hidden;\n        }\n\n        .panel-header {\n          display: flex;\n          align-items: center;\n          padding: 8px;\n          background: var(--panel-header-bg, #f8f8f8);\n          border-bottom: 1px solid var(--panel-border, #ccc);\n          min-height: 16px;\n          cursor: pointer;\n          user-select: none;\n        }\n\n        :host(.theme-dark) .panel-header {\n          background: var(--panel-header-bg-dark, #3a3a3a);\n          border-bottom-color: var(--panel-border-dark, #555);\n        }\n\n        .panel-header:hover {\n          background: var(--panel-header-hover-bg, #e8e8e8);\n        }\n\n        :host(.theme-dark) .panel-header:hover {\n          background: var(--panel-header-hover-bg-dark, #404040);\n        }\n\n        .toggle-button {\n          width: 16px;\n          height: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 12px;\n          margin-right: 8px;\n          flex-shrink: 0;\n        }\n\n        /* Vertical orientation icons */\n        :host([orientation="vertical"]) .toggle-button .burger-icon {\n          display: none;\n        }\n\n        :host([orientation="vertical"]) .toggle-button .close-icon {\n          display: block;\n        }\n\n        :host([orientation="vertical"][collapsed]) .toggle-button .burger-icon {\n          display: block;\n        }\n\n        :host([orientation="vertical"][collapsed]) .toggle-button .close-icon {\n          display: none;\n        }\n\n        /* Horizontal orientation icons */\n        :host([orientation="horizontal"]) .toggle-button .burger-icon {\n          display: none;\n        }\n\n        :host([orientation="horizontal"]) .toggle-button .close-icon {\n          display: block;\n        }\n\n        :host([orientation="horizontal"][collapsed]) .toggle-button .burger-icon {\n          display: block;\n        }\n\n        :host([orientation="horizontal"][collapsed]) .toggle-button .close-icon {\n          display: none;\n        }\n\n        /* Rotate icons for horizontal orientation */\n        :host([orientation="horizontal"]) .toggle-button {\n          transform: rotate(90deg);\n        }\n\n        .panel-title {\n          flex-grow: 1;\n          font-weight: 500;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        /* Hide title when collapsed */\n        :host([collapsed]) .panel-title {\n          display: none;\n        }\n\n        .panel-content {\n          padding: 12px;\n          overflow: auto;\n        }\n\n        :host([collapsed]) .panel-content {\n          display: none;\n        }\n\n        /* Content slot styling */\n        ::slotted(*) {\n          display: block;\n        }\n      </style>\n\n      <div class="panel-header">\n        <div class="toggle-button">\n          <span class="burger-icon">☰</span>\n          <span class="close-icon">✕</span>\n        </div>\n        <div class="panel-title">\n          <slot name="title">Panel</slot>\n        </div>\n      </div>\n\n      <div class="panel-content">\n        <slot></slot>\n      </div>\n    ',t.querySelector(".panel-header").addEventListener("click",this.handleToggle.bind(this))}connectedCallback(){this.id||(this.id=n("collapsible-panel")),this.applyTheme(this._theme)}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"theme":this.theme=n;break;case"collapsed":this._collapsed=null!==n;break;case"orientation":this._orientation=n||"vertical"}}handleToggle(){this.collapsed=!this.collapsed,i(this,"collapsible-panel-toggle",{panelId:this.id,panel:this,collapsed:this.collapsed,orientation:this.orientation})}get theme(){return this._theme}set theme(t){this._theme=t,this.applyTheme(t)}get collapsed(){return this._collapsed}set collapsed(t){this._collapsed=t,t?this.setAttribute("collapsed",""):this.removeAttribute("collapsed")}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this.setAttribute("orientation",t)}toggle(){this.collapsed=!this.collapsed}expand(){this.collapsed=!1}collapse(){this.collapsed=!0}applyTheme(t){d(this,t)}}customElements.get("e2-collapsible-panel")||customElements.define("e2-collapsible-panel",v);class f extends HTMLElement{static get observedAttributes(){return["theme","disabled","size","min-size","max-size","resizable"]}constructor(){super(),this._theme="auto",this._size=50,this._minSize=10,this._maxSize=90,this._resizable=!0,this.setupElement()}setupElement(){a(this).innerHTML='\n      <style>\n        :host {\n          display: block;\n          position: relative;\n          background: var(--panel-bg, #ffffff);\n          border: 1px solid var(--panel-border, #e0e0e0);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          overflow: hidden;\n          box-sizing: border-box;\n        }\n\n        :host(.theme-dark) {\n          background: var(--panel-bg-dark, #2d2d2d);\n          border-color: var(--panel-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        .panel-content {\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n          box-sizing: border-box;\n          padding: var(--panel-padding, 8px);\n        }\n\n        /* Content slot styling */\n        ::slotted(*) {\n          display: block;\n        }\n      </style>\n\n      <div class="panel-content">\n        <slot></slot>\n      </div>\n    ',this.addEventListener("resize",this.handleResize.bind(this))}connectedCallback(){this.applyTheme(this._theme),this.id||(this.id=n("split-panel"))}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"theme":this._theme=n||"auto",this.applyTheme(this._theme);break;case"size":this._size=parseFloat(n||"50"),this.updateSize();break;case"min-size":this._minSize=parseFloat(n||"10");break;case"max-size":this._maxSize=parseFloat(n||"90");break;case"resizable":this._resizable="false"!==n;break;case"disabled":this.toggleAttribute("disabled",null!==n)}}handleResize(){this.updateSize()}updateSize(){}get theme(){return this._theme}set theme(t){this.setAttribute("theme",t)}get size(){return this._size}set size(t){this.setAttribute("size",t.toString())}get minSize(){return this._minSize}set minSize(t){this.setAttribute("min-size",t.toString())}get maxSize(){return this._maxSize}set maxSize(t){this.setAttribute("max-size",t.toString())}get resizable(){return this._resizable}set resizable(t){this.setAttribute("resizable",t.toString())}get disabled(){return this.hasAttribute("disabled")}set disabled(t){this.toggleAttribute("disabled",t)}applyTheme(t){d(this,t)}getCurrentSize(){const t=this.parentElement;if(!t)return this._size;if("vertical"===t.getAttribute("orientation")){const e=t.clientHeight;return this.clientHeight/e*100}{const e=t.clientWidth;return this.clientWidth/e*100}}}customElements.get("e2-split-panel")||customElements.define("e2-split-panel",f);class x extends HTMLElement{static get observedAttributes(){return["theme","disabled","orientation"]}constructor(){super(),this._theme="auto",this._orientation="horizontal",this._resizing=!1,this._activePanel=null,this._startPosition=0,this._startSize=0,this._nextPanelStartSize=0,this._updatingPanelSizes=!1,this.debouncedResize=r(this.handleResize.bind(this),16),this.setupElement(),this.bindEvents()}setupElement(){a(this).innerHTML='\n      <style>\n        :host {\n          display: flex;\n          position: relative;\n          width: 100%;\n          height: 100%;\n          min-height: 200px;\n          background: var(--container-bg, #f5f5f5);\n          font-family: var(--font-family, system-ui, sans-serif);\n          overflow: hidden;\n          box-sizing: border-box;\n        }\n\n        :host(.theme-dark) {\n          background: var(--container-bg-dark, #1e1e1e);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Horizontal layout (side by side) */\n        :host([orientation="horizontal"]) {\n          flex-direction: row;\n        }\n\n        /* Vertical layout (stacked) */\n        :host([orientation="vertical"]) {\n          flex-direction: column;\n        }\n\n        /* Panel styling */\n        ::slotted(e2-split-panel) {\n          flex-shrink: 0;\n          overflow: hidden;\n          position: relative;\n        }\n\n        /* Add spacing for handles and visual separators */\n        ::slotted(e2-split-panel:not(:last-child)) {\n          border-right: var(--handle-size, 4px) solid var(--handle-bg, #ccc);\n        }\n\n        :host([orientation="vertical"]) ::slotted(e2-split-panel:not(:last-child)) {\n          border-right: none;\n          border-bottom: var(--handle-size, 4px) solid var(--handle-bg, #ccc);\n        }\n\n        :host(.theme-dark) ::slotted(e2-split-panel:not(:last-child)) {\n          border-right-color: var(--handle-bg-dark, #555);\n        }\n\n        :host([orientation="vertical"].theme-dark) ::slotted(e2-split-panel:not(:last-child)) {\n          border-bottom-color: var(--handle-bg-dark, #555);\n        }\n\n        /* No user selection during drag */\n        :host(.dragging) {\n          user-select: none;\n        }\n\n        :host(.dragging) ::slotted(*) {\n          user-select: none;\n          pointer-events: none;\n        }\n      </style>\n\n      <slot></slot>\n    '}bindEvents(){this.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.addEventListener("mouseup",this.handleMouseUp.bind(this)),this.addEventListener("mouseleave",this.handleMouseLeave.bind(this)),window.addEventListener("resize",this.debouncedResize)}connectedCallback(){this.applyTheme(this._theme),this.id||(this.id=n("split-panel-container")),setTimeout(()=>{this.updateHandles(),this.updatePanelSizes()},0)}disconnectedCallback(){window.removeEventListener("resize",this.debouncedResize)}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"theme":this._theme=n||"auto",this.applyTheme(this._theme);break;case"orientation":this._orientation=n||"horizontal",this.updateHandles(),this.updatePanelSizes();break;case"disabled":this.toggleAttribute("disabled",null!==n)}}updateHandles(){}updatePanelSizes(){if(!this._updatingPanelSizes){this._updatingPanelSizes=!0;try{const t=this.getPanels();if(0===t.length)return;const e=this.getBoundingClientRect(),n=parseInt(getComputedStyle(this).getPropertyValue("--handle-size")||"4"),i=(t.length-1)*n,o="horizontal"===this._orientation?e.width-i:e.height-i;let s=0,a=0;t.forEach(t=>{const e=parseFloat(t.getAttribute("size")||"0");e>0?s+=e:a++});const r=Math.max(0,100-s),l=a>0?r/a:0;t.forEach(t=>{let e=parseFloat(t.getAttribute("size")||"0");e<=0&&(e=l,t.getAttribute("size")!==e.toString()&&t.setAttribute("size",e.toString()));const n=e/100*o;"horizontal"===this._orientation?(t.style.width=`${n}px`,t.style.height="100%",t.style.flexBasis=`${n}px`):(t.style.height=`${n}px`,t.style.width="100%",t.style.flexBasis=`${n}px`)})}finally{this._updatingPanelSizes=!1}}}handleMouseDown(t){const e=this.getPanels();if(e.length<2)return;let n=-1,o=null,s=null;const a=parseInt(getComputedStyle(this).getPropertyValue("--handle-size")||"4");for(let i=0;i<e.length-1;i++){const r=e[i].getBoundingClientRect(),l=this.getBoundingClientRect(),d=t.clientX-l.left,h=t.clientY-l.top;let c=!1;if("horizontal"===this._orientation){const t=r.right-l.left-a,e=r.right-l.left;c=d>=t&&d<=e}else{const t=r.bottom-l.top-a,e=r.bottom-l.top;c=h>=t&&h<=e}if(c){n=i,o=e[i],s=e[i+1];break}}-1!==n&&o&&s&&(t.preventDefault(),this._resizing=!0,this._activePanel=o,this._startPosition="horizontal"===this._orientation?t.clientX:t.clientY,this._startSize=parseFloat(o.getAttribute("size")||"50"),this._nextPanelStartSize=parseFloat(s.getAttribute("size")||"50"),this.classList.add("dragging"),this.style.cursor="horizontal"===this._orientation?"col-resize":"row-resize",i(this,"split-panel-resize-start",{containerId:this.id,container:this,panelId:o.id,panel:o,startSize:this._startSize}))}handleMouseMove(t){if(this._resizing&&this._activePanel){t.preventDefault();const e=("horizontal"===this._orientation?t.clientX:t.clientY)-this._startPosition,n=this.getBoundingClientRect(),o=e/("horizontal"===this._orientation?n.width:n.height)*100,s=this.getPanels(),a=s.indexOf(this._activePanel),r=s[a+1];if(!r)return;const l=Math.max(parseFloat(this._activePanel.getAttribute("min-size")||"10"),Math.min(parseFloat(this._activePanel.getAttribute("max-size")||"90"),this._startSize+o)),d=Math.max(parseFloat(r.getAttribute("min-size")||"10"),Math.min(parseFloat(r.getAttribute("max-size")||"90"),this._nextPanelStartSize-o));this._activePanel.setAttribute("size",l.toString()),r.setAttribute("size",d.toString()),this.updatePanelSizes(),i(this,"split-panel-resize",{containerId:this.id,container:this,panelId:this._activePanel.id,panel:this._activePanel,size:l,minSize:parseFloat(this._activePanel.getAttribute("min-size")||"10"),maxSize:parseFloat(this._activePanel.getAttribute("max-size")||"90")})}else this.updateHoverCursor(t)}updateHoverCursor(t){const e=this.getPanels();if(e.length<2)return void(this.style.cursor="");const n=parseInt(getComputedStyle(this).getPropertyValue("--handle-size")||"4");let i=!1;for(let o=0;o<e.length-1;o++){const s=e[o].getBoundingClientRect(),a=this.getBoundingClientRect(),r=t.clientX-a.left,l=t.clientY-a.top;if("horizontal"===this._orientation){const t=s.right-a.left-n,e=s.right-a.left;if(r>=t&&r<=e){i=!0;break}}else{const t=s.bottom-a.top-n,e=s.bottom-a.top;if(l>=t&&l<=e){i=!0;break}}}this.style.cursor=i?"horizontal"===this._orientation?"col-resize":"row-resize":""}handleMouseUp(t){if(!this._resizing)return;t.preventDefault();const e=this._activePanel?parseFloat(this._activePanel.getAttribute("size")||"50"):0;this._activePanel&&i(this,"split-panel-resize-end",{containerId:this.id,container:this,panelId:this._activePanel.id,panel:this._activePanel,finalSize:e}),this._resizing=!1,this._activePanel=null,this.classList.remove("dragging"),this.updateHoverCursor(t)}handleMouseLeave(t){this._resizing&&this.handleMouseUp(t),this.style.cursor=""}handleResize(){this.updatePanelSizes()}getPanels(){return Array.from(this.querySelectorAll("e2-split-panel"))}get theme(){return this._theme}set theme(t){this.setAttribute("theme",t)}get orientation(){return this._orientation}set orientation(t){this.setAttribute("orientation",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){this.toggleAttribute("disabled",t)}applyTheme(t){d(this,t)}resizePanel(t,e){const n=this.querySelector(`#${t}`);n&&"e2-split-panel"===n.tagName.toLowerCase()&&(n.setAttribute("size",e.toString()),this.updatePanelSizes())}getPanelSizes(){const t=this.getPanels(),e={};return t.forEach(t=>{t.id&&(e[t.id]=parseFloat(t.getAttribute("size")||"0"))}),e}resetPanelSizes(){const t=this.getPanels(),e=100/t.length;t.forEach(t=>{t.setAttribute("size",e.toString())}),this.updatePanelSizes()}}customElements.get("e2-split-panel-container")||customElements.define("e2-split-panel-container",x);class y extends HTMLElement{static get observedAttributes(){return["theme","disabled","active","closable","icon","label","panel"]}constructor(){super(),this._theme="auto",this._active=!1,this._closable=!1,this._icon="",this._label="",this.id=this.id||n("tab"),this.setupElement(),this.setupEventListeners()}setupElement(){a(this).innerHTML='\n      <style>\n        :host {\n          display: flex;\n          align-items: center;\n          padding: 8px 12px;\n          background: var(--tab-bg, #f8f8f8);\n          border: 1px solid var(--tab-border, #ddd);\n          border-bottom: none;\n          cursor: pointer;\n          user-select: none;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          color: var(--tab-color, #333);\n          min-width: 0;\n          position: relative;\n          transition: background-color 0.2s ease, color 0.2s ease;\n        }\n\n        :host(:hover) {\n          background: var(--tab-bg-hover, #e8e8e8);\n        }\n\n        :host([active]) {\n          background: var(--tab-bg-active, #ffffff);\n          color: var(--tab-color-active, #000);\n          border-bottom: 1px solid var(--tab-bg-active, #ffffff);\n          z-index: 1;\n        }\n\n        :host(.theme-dark) {\n          background: var(--tab-bg-dark, #2d2d2d);\n          border-color: var(--tab-border-dark, #555);\n          color: var(--tab-color-dark, #ccc);\n        }\n\n        :host(.theme-dark:hover) {\n          background: var(--tab-bg-hover-dark, #3d3d3d);\n        }\n\n        :host(.theme-dark[active]) {\n          background: var(--tab-bg-active-dark, #1e1e1e);\n          color: var(--tab-color-active-dark, #fff);\n          border-bottom-color: var(--tab-bg-active-dark, #1e1e1e);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          cursor: not-allowed;\n          pointer-events: none;\n        }\n\n        /* Tab position adjustments for container orientation */\n        :host-context(e2-tab-container[tab-position="bottom"]) {\n          border-top: none;\n          border-bottom: 1px solid var(--tab-border, #ddd);\n        }\n\n        :host-context(e2-tab-container[tab-position="bottom"][active]) {\n          border-top: 1px solid var(--tab-bg-active, #ffffff);\n          border-bottom-color: var(--tab-bg-active, #ffffff);\n        }\n\n        :host-context(e2-tab-container.theme-dark[tab-position="bottom"]) {\n          border-bottom-color: var(--tab-border-dark, #555);\n        }\n\n        :host-context(e2-tab-container.theme-dark[tab-position="bottom"][active]) {\n          border-top-color: var(--tab-bg-active-dark, #1e1e1e);\n          border-bottom-color: var(--tab-bg-active-dark, #1e1e1e);\n        }\n\n        :host-context(e2-tab-container[tab-position="left"]),\n        :host-context(e2-tab-container[tab-position="right"]) {\n          border-bottom: 1px solid var(--tab-border, #ddd);\n          border-right: none;\n          width: 100%;\n        }\n\n        :host-context(e2-tab-container[tab-position="left"][active]) {\n          border-right: 1px solid var(--tab-bg-active, #ffffff);\n        }\n\n        :host-context(e2-tab-container[tab-position="right"]) {\n          border-left: none;\n          border-right: 1px solid var(--tab-border, #ddd);\n        }\n\n        :host-context(e2-tab-container[tab-position="right"][active]) {\n          border-left: 1px solid var(--tab-bg-active, #ffffff);\n          border-right-color: var(--tab-bg-active, #ffffff);\n        }\n\n        .tab-content {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          min-width: 0;\n          flex: 1;\n        }\n\n        .tab-icon {\n          flex-shrink: 0;\n          font-size: 16px;\n          width: 16px;\n          height: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .tab-label {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          flex: 1;\n          min-width: 0;\n        }\n\n        .close-button {\n          flex-shrink: 0;\n          width: 16px;\n          height: 16px;\n          border: none;\n          background: transparent;\n          cursor: pointer;\n          border-radius: 2px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-left: 4px;\n          font-size: 12px;\n          color: var(--tab-close-color, #666);\n          opacity: 0.7;\n          transition: opacity 0.2s ease, background-color 0.2s ease;\n        }\n\n        .close-button:hover {\n          opacity: 1;\n          background: var(--tab-close-bg-hover, rgba(0, 0, 0, 0.1));\n        }\n\n        :host(.theme-dark) .close-button {\n          color: var(--tab-close-color-dark, #aaa);\n        }\n\n        :host(.theme-dark) .close-button:hover {\n          background: var(--tab-close-bg-hover-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        :host(:not([closable])) .close-button {\n          display: none;\n        }\n      </style>\n\n      <div class="tab-content">\n        <span class="tab-icon"></span>\n        <span class="tab-label"></span>\n        <button class="close-button" type="button">&times;</button>\n      </div>\n    ',this.updateContent(),this.applyTheme(this._theme)}setupEventListeners(){var t;this.addEventListener("click",this.handleClick.bind(this));const e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".close-button");null==e||e.addEventListener("click",this.handleCloseClick.bind(this))}handleClick(t){this.disabled||t.target.classList.contains("close-button")||(t.stopPropagation(),i(this,"tab-click",{tabId:this.id,tab:this,panelId:this.getAttribute("panel")||`${this.id}-panel`}))}handleCloseClick(t){this.disabled||(t.stopPropagation(),i(this,"tab-close",{tabId:this.id,tab:this,panelId:this.getAttribute("panel")||`${this.id}-panel`}))}updateContent(){const t=this.shadowRoot,e=t.querySelector(".tab-icon"),n=t.querySelector(".tab-label");this._icon?(e.textContent=this._icon,e.style.display="flex"):e.style.display="none",n.textContent=this._label||this.textContent||""}click(){this.disabled||this.handleClick(new MouseEvent("click"))}close(){!this.disabled&&this._closable&&this.handleCloseClick(new MouseEvent("click"))}get theme(){return this._theme}set theme(t){this._theme=t,this.setAttribute("theme",t),this.applyTheme(t)}get active(){return this._active}set active(t){this._active=t,t?this.setAttribute("active",""):this.removeAttribute("active")}get closable(){return this._closable}set closable(t){this._closable=t,t?this.setAttribute("closable",""):this.removeAttribute("closable")}get icon(){return this._icon}set icon(t){this._icon=t,this.setAttribute("icon",t),this.updateContent()}get label(){return this._label}set label(t){this._label=t,this.setAttribute("label",t),this.updateContent()}get panel(){return this.getAttribute("panel")}set panel(t){t?this.setAttribute("panel",t):this.removeAttribute("panel")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}applyTheme(t){d(this,t)}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"theme":this._theme=n||"auto",this.applyTheme(this._theme);break;case"active":this._active=null!==n;break;case"closable":this._closable=null!==n;break;case"icon":this._icon=n||"",this.updateContent();break;case"label":this._label=n||"",this.updateContent()}}connectedCallback(){if(this._pendingSetup){const t=this._pendingSetup;t.slot&&this.setAttribute("slot",t.slot),t.panel&&this.setAttribute("panel",t.panel),t.label&&(this.label=t.label),t.closable&&(this.closable=t.closable),t.theme&&this.applyTheme(t.theme),delete this._pendingSetup}this.updateContent()}}customElements.get("e2-tab")||customElements.define("e2-tab",y);class k extends HTMLElement{static get observedAttributes(){return["theme","disabled","active-tab","tab-position","closable"]}constructor(){super(),this._theme="auto",this._activeTabId=null,this._tabPosition="top",this._closable=!1,this.id=this.id||n("tab-container"),this.setupElement(),this.setupEventListeners()}setupElement(){a(this).innerHTML='\n      <style>\n        :host {\n          display: flex;\n          flex-direction: column;\n          background: var(--tab-container-bg, #ffffff);\n          border: 1px solid var(--tab-container-border, #ccc);\n          border-radius: var(--tab-container-border-radius, 4px);\n          overflow: hidden;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n        }\n\n        :host(.theme-dark) {\n          background: var(--tab-container-bg-dark, #1e1e1e);\n          border-color: var(--tab-container-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Tab position variations */\n        :host([tab-position="top"]) {\n          flex-direction: column;\n        }\n\n        :host([tab-position="bottom"]) {\n          flex-direction: column-reverse;\n        }\n\n        :host([tab-position="left"]) {\n          flex-direction: row;\n        }\n\n        :host([tab-position="right"]) {\n          flex-direction: row-reverse;\n        }\n\n        .tab-list {\n          display: flex;\n          background: var(--tab-list-bg, #f8f8f8);\n          border-bottom: 1px solid var(--tab-list-border, #ddd);\n          overflow-x: auto;\n          flex-shrink: 0;\n        }\n\n        :host(.theme-dark) .tab-list {\n          background: var(--tab-list-bg-dark, #2d2d2d);\n          border-bottom-color: var(--tab-list-border-dark, #555);\n        }\n\n        :host([tab-position="bottom"]) .tab-list {\n          border-bottom: none;\n          border-top: 1px solid var(--tab-list-border, #ddd);\n        }\n\n        :host(.theme-dark[tab-position="bottom"]) .tab-list {\n          border-top-color: var(--tab-list-border-dark, #555);\n        }\n\n        :host([tab-position="left"]) .tab-list,\n        :host([tab-position="right"]) .tab-list {\n          flex-direction: column;\n          border-bottom: none;\n          border-right: 1px solid var(--tab-list-border, #ddd);\n          overflow-x: visible;\n          overflow-y: auto;\n        }\n\n        :host([tab-position="right"]) .tab-list {\n          border-right: none;\n          border-left: 1px solid var(--tab-list-border, #ddd);\n        }\n\n        :host(.theme-dark[tab-position="left"]) .tab-list {\n          border-right-color: var(--tab-list-border-dark, #555);\n        }\n\n        :host(.theme-dark[tab-position="right"]) .tab-list {\n          border-left-color: var(--tab-list-border-dark, #555);\n        }\n\n        .panel-container {\n          flex: 1;\n          overflow: hidden;\n          position: relative;\n        }\n\n        ::slotted(e2-tab) {\n          flex-shrink: 0;\n        }\n\n        ::slotted(e2-tab-panel) {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n        }\n\n        ::slotted(e2-tab-panel[active]) {\n          display: flex !important;\n        }\n      </style>\n\n      <div class="tab-list">\n        <slot name="tabs"></slot>\n      </div>\n      <div class="panel-container">\n        <slot name="panels"></slot>\n      </div>\n    ',this.applyTheme(this._theme)}setupEventListeners(){this.addEventListener("tab-click",this.handleTabClick.bind(this)),this.addEventListener("tab-close",this.handleTabClose.bind(this));const t=this.shadowRoot,e=t.querySelector('slot[name="tabs"]'),n=t.querySelector('slot[name="panels"]');null==e||e.addEventListener("slotchange",()=>{this.updateTabsAndPanels()}),null==n||n.addEventListener("slotchange",()=>{this.updateTabsAndPanels()})}handleTabClick(t){t.stopPropagation();const e=t.target,n=e.id,i=e.getAttribute("panel")||`${n}-panel`;this.selectTab(n,i)}handleTabClose(t){t.stopPropagation();let e=t.target;if(e.matches("e2-tab")||(e=e.closest("e2-tab")),!e)return;const n=e.id,o=e.getAttribute("panel")||`${n}-panel`;e.hasAttribute("data-removing")||(e.setAttribute("data-removing","true"),i(this,"tab-close",{tabId:n,tab:e,panelId:o,panel:this.querySelector(`e2-tab-panel[id="${o}"]`),containerId:this.id,container:this},{bubbles:!1})&&setTimeout(()=>{this.removeTab(n)},0))}selectTab(t,e){const n=this.querySelector(`e2-tab[id="${t}"]`),o=this.querySelector(`e2-tab-panel[id="${e}"]`);if(!n||!o)return;const s=this._activeTabId;this.querySelectorAll("e2-tab").forEach(t=>{void 0!==t.active?t.active=!1:t.removeAttribute("active")}),this.querySelectorAll("e2-tab-panel").forEach(t=>{void 0!==t.active?t.active=!1:(t.removeAttribute("active"),t.style.display="none")}),void 0!==n.active?n.active=!0:n.setAttribute("active",""),void 0!==o.active?o.active=!0:(o.setAttribute("active",""),o.style.display="flex"),this._activeTabId=t,this.setAttribute("active-tab",t),i(this,"tab-select",{tabId:t,tab:n,panelId:e,panel:o,containerId:this.id,container:this,previousTabId:s||void 0}),i(this,"tab-container-change",{containerId:this.id,container:this,activeTabId:t,activePanelId:e})}removeTab(t){const e=this.querySelector(`e2-tab[id="${t}"]`),n=(null==e?void 0:e.getAttribute("panel"))||`${t}-panel`,i=this.querySelector(`e2-tab-panel[id="${n}"]`);if(null==e||e.remove(),null==i||i.remove(),this._activeTabId===t){const t=this.querySelectorAll("e2-tab");if(t.length>0){const e=t[0],n=e.getAttribute("panel")||`${e.id}-panel`;this.selectTab(e.id,n)}else this._activeTabId=null,this.removeAttribute("active-tab")}}updateTabsAndPanels(){const t=this.querySelectorAll("e2-tab"),e=this.querySelectorAll("e2-tab-panel");t.forEach((t,i)=>{const o=t;if(o.id||(o.id=n("tab")),this._closable&&o.setAttribute("closable",""),o.applyTheme&&o.applyTheme(this._theme),!o.getAttribute("panel")){const t=e[i];t&&(t.id||(t.id=`${o.id}-panel`),o.setAttribute("panel",t.id))}});let i=null,o=null;if(this.hasAttribute("active-tab")){const t=this.getAttribute("active-tab");i=this.querySelector(`e2-tab[id="${t}"]`)}if(i||(i=this.querySelector("e2-tab[active]")),!i&&t.length>0&&(i=t[0]),i&&(o=i.getAttribute("panel")||`${i.id}-panel`),e.forEach(t=>{const e=t;e.id||(e.id=n("tab-panel")),e.applyTheme&&e.applyTheme(this._theme),e.id===o?void 0!==e.active?e.active=!0:(e.setAttribute("active",""),e.style.display="flex"):void 0!==e.active?e.active=!1:e.style.display="none"}),!this._activeTabId&&i){const t=i.getAttribute("panel")||`${i.id}-panel`;setTimeout(()=>{i&&this.selectTab(i.id,t)},100)}}selectTabById(t){const e=this.querySelector(`e2-tab[id="${t}"]`);if(e){const n=e.getAttribute("panel")||`${t}-panel`;this.selectTab(t,n)}}addTab(t,e="",i,o){const s=i||n("tab"),a=o||`${s}-panel`,r=new(window.customElements.get("e2-tab"));r.id=s;const l=new(window.customElements.get("e2-tab-panel"));return l.id=a,r._pendingSetup={slot:"tabs",panel:a,label:t,closable:this._closable,theme:this._theme},l._pendingSetup={slot:"panels",content:e,theme:this._theme},this.appendChild(r),this.appendChild(l),{tabId:s,panelId:a}}removeTabById(t){this.removeTab(t)}get activeTabId(){return this._activeTabId}get tabs(){return this.querySelectorAll("e2-tab")}get panels(){return this.querySelectorAll("e2-tab-panel")}get theme(){return this._theme}set theme(t){this._theme=t,this.setAttribute("theme",t),this.applyTheme(t)}get tabPosition(){return this._tabPosition}set tabPosition(t){this._tabPosition=t,this.setAttribute("tab-position",t)}get closable(){return this._closable}set closable(t){this._closable=t,t?this.setAttribute("closable",""):this.removeAttribute("closable"),this.querySelectorAll("e2-tab").forEach(e=>{t?e.setAttribute("closable",""):e.removeAttribute("closable")})}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}applyTheme(t){d(this,t),this.querySelectorAll("e2-tab").forEach(e=>{e.applyTheme&&e.applyTheme(t)}),this.querySelectorAll("e2-tab-panel").forEach(e=>{e.applyTheme&&e.applyTheme(t)})}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"theme":this._theme=n||"auto",this.applyTheme(this._theme);break;case"active-tab":n&&n!==this._activeTabId&&this.selectTabById(n);break;case"tab-position":this._tabPosition=n||"top";break;case"closable":this._closable=null!==n}}connectedCallback(){setTimeout(()=>{this.updateTabsAndPanels(),this._activeTabId||setTimeout(()=>{this.updateTabsAndPanels()},50)},10)}}customElements.get("e2-tab-container")||customElements.define("e2-tab-container",k);class w extends HTMLElement{static get observedAttributes(){return["theme","disabled","active"]}constructor(){super(),this._theme="auto",this._active=!1,this.id=this.id||n("tab-panel"),this.setupElement()}setupElement(){a(this).innerHTML="\n      <style>\n        :host {\n          display: none;\n          flex-direction: column;\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n          background: var(--tab-panel-bg, #ffffff);\n          padding: var(--tab-panel-padding, 16px);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          color: var(--tab-panel-color, #333);\n          box-sizing: border-box;\n        }\n\n        :host([active]) {\n          display: flex;\n        }\n\n        :host(.theme-dark) {\n          background: var(--tab-panel-bg-dark, #1e1e1e);\n          color: var(--tab-panel-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Scrollbar styling for dark theme */\n        :host(.theme-dark) {\n          scrollbar-width: thin;\n          scrollbar-color: var(--scrollbar-thumb-dark, #555) var(--scrollbar-track-dark, #2d2d2d);\n        }\n\n        :host(.theme-dark)::-webkit-scrollbar {\n          width: 8px;\n          height: 8px;\n        }\n\n        :host(.theme-dark)::-webkit-scrollbar-track {\n          background: var(--scrollbar-track-dark, #2d2d2d);\n        }\n\n        :host(.theme-dark)::-webkit-scrollbar-thumb {\n          background: var(--scrollbar-thumb-dark, #555);\n          border-radius: 4px;\n        }\n\n        :host(.theme-dark)::-webkit-scrollbar-thumb:hover {\n          background: var(--scrollbar-thumb-hover-dark, #666);\n        }\n\n        /* Light theme scrollbar */\n        :host(.theme-light) {\n          scrollbar-width: thin;\n          scrollbar-color: var(--scrollbar-thumb-light, #ccc) var(--scrollbar-track-light, #f0f0f0);\n        }\n\n        :host(.theme-light)::-webkit-scrollbar {\n          width: 8px;\n          height: 8px;\n        }\n\n        :host(.theme-light)::-webkit-scrollbar-track {\n          background: var(--scrollbar-track-light, #f0f0f0);\n        }\n\n        :host(.theme-light)::-webkit-scrollbar-thumb {\n          background: var(--scrollbar-thumb-light, #ccc);\n          border-radius: 4px;\n        }\n\n        :host(.theme-light)::-webkit-scrollbar-thumb:hover {\n          background: var(--scrollbar-thumb-hover-light, #bbb);\n        }\n\n        /* Content styling */\n        ::slotted(*) {\n          max-width: 100%;\n        }\n\n        ::slotted(h1),\n        ::slotted(h2),\n        ::slotted(h3),\n        ::slotted(h4),\n        ::slotted(h5),\n        ::slotted(h6) {\n          margin-top: 0;\n          color: inherit;\n        }\n\n        ::slotted(p) {\n          line-height: 1.5;\n          margin-bottom: 1em;\n        }\n\n        ::slotted(pre) {\n          background: var(--code-bg, #f5f5f5);\n          padding: 12px;\n          border-radius: 4px;\n          overflow-x: auto;\n          font-family: var(--font-family-mono, 'Consolas', 'Monaco', monospace);\n        }\n\n        :host(.theme-dark) ::slotted(pre) {\n          background: var(--code-bg-dark, #0d1117);\n        }\n\n        ::slotted(code) {\n          background: var(--code-bg, #f5f5f5);\n          padding: 2px 4px;\n          border-radius: 2px;\n          font-family: var(--font-family-mono, 'Consolas', 'Monaco', monospace);\n          font-size: 0.9em;\n        }\n\n        :host(.theme-dark) ::slotted(code) {\n          background: var(--code-bg-dark, #0d1117);\n        }\n\n        /* Loading state */\n        :host([loading]) {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        :host([loading])::before {\n          content: 'Loading...';\n          color: var(--tab-panel-loading-color, #666);\n        }\n\n        :host(.theme-dark[loading])::before {\n          color: var(--tab-panel-loading-color-dark, #aaa);\n        }\n\n        /* Empty state */\n        :host(:empty:not([loading])) {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        :host(:empty:not([loading]))::before {\n          content: attr(data-empty-message);\n          color: var(--tab-panel-empty-color, #999);\n          font-style: italic;\n        }\n\n        :host(.theme-dark:empty:not([loading]))::before {\n          color: var(--tab-panel-empty-color-dark, #666);\n        }\n      </style>\n\n      <slot></slot>\n    ",this.applyTheme(this._theme)}show(){this.active=!0}hide(){this.active=!1}scrollToTop(){this.scrollTop=0}scrollToBottom(){this.scrollTop=this.scrollHeight}scrollToElement(t){this.contains(t)&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}clearContent(){this.innerHTML=""}setContent(t){this.innerHTML=t}appendContent(t){this.insertAdjacentHTML("beforeend",t)}prependContent(t){this.insertAdjacentHTML("afterbegin",t)}get theme(){return this._theme}set theme(t){this._theme=t,this.setAttribute("theme",t),this.applyTheme(t)}get active(){return this._active}set active(t){this._active=t,t?(this.setAttribute("active",""),this.style.display="flex"):(this.removeAttribute("active"),this.style.display="none")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get loading(){return this.hasAttribute("loading")}set loading(t){t?this.setAttribute("loading",""):this.removeAttribute("loading")}get emptyMessage(){return this.getAttribute("data-empty-message")||"No content available"}set emptyMessage(t){this.setAttribute("data-empty-message",t)}applyTheme(t){d(this,t)}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"theme":this._theme=n||"auto",this.applyTheme(this._theme);break;case"active":this._active=null!==n,this._active?this.style.display="flex":this.style.display="none"}}connectedCallback(){if(this._pendingSetup){const t=this._pendingSetup;t.slot&&this.setAttribute("slot",t.slot),t.content&&(this.innerHTML=t.content),t.theme&&this.applyTheme(t.theme),delete this._pendingSetup}this._active?this.style.display="flex":this.style.display="none",this.hasAttribute("data-empty-message")||(this.emptyMessage="No content available")}}customElements.get("e2-tab-panel")||customElements.define("e2-tab-panel",w);class _ extends HTMLElement{static get observedAttributes(){return["theme","disabled"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){a(this).innerHTML="\n      <style>\n        :host {\n          display: flex;\n          align-items: center;\n          padding: 4px;\n          background: var(--toolbar-bg, #f0f0f0);\n          border-bottom: 1px solid var(--toolbar-border, #ccc);\n          gap: 2px;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n        }\n\n        :host(.theme-dark) {\n          background: var(--toolbar-bg-dark, #2d2d2d);\n          border-bottom-color: var(--toolbar-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        ::slotted(*) {\n          flex-shrink: 0;\n        }\n      </style>\n      <slot></slot>\n    "}connectedCallback(){this.id||(this.id=n("toolbar")),this.applyTheme(this._theme)}attributeChangedCallback(t,e,n){e!==n&&"theme"===t&&(this.theme=n)}get theme(){return this._theme}set theme(t){this._theme=t,this.applyTheme(t)}applyTheme(t){d(this,t)}closeAllMenus(t){this.querySelectorAll("e2-toolbar-menu").forEach(e=>{e!==t&&"function"==typeof e.close&&e.close()})}}customElements.get("e2-toolbar")||customElements.define("e2-toolbar",_);class A extends HTMLElement{static get observedAttributes(){return["label","icon","theme","disabled","active"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){const t=a(this);t.innerHTML='\n      <style>\n        :host {\n          display: inline-block;\n        }\n\n        button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 4px;\n          padding: 6px 12px;\n          border: 1px solid transparent;\n          background: transparent;\n          color: var(--text-color, #333);\n          font-family: inherit;\n          font-size: inherit;\n          cursor: pointer;\n          border-radius: 3px;\n          min-height: 24px;\n          transition: all 0.15s ease;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n\n        button:hover {\n          background: var(--button-hover-bg, rgba(0, 0, 0, 0.1));\n        }\n\n        button:active,\n        button.active {\n          background: var(--button-active-bg, rgba(0, 0, 0, 0.2));\n        }\n\n        button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        :host(.theme-dark) button {\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host(.theme-dark) button:hover {\n          background: var(--button-hover-bg-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        :host(.theme-dark) button:active,\n        :host(.theme-dark) button.active {\n          background: var(--button-active-bg-dark, rgba(255, 255, 255, 0.2));\n        }\n\n        .icon {\n          width: 16px;\n          height: 16px;\n          flex-shrink: 0;\n        }\n\n        .label {\n          white-space: nowrap;\n        }\n      </style>\n      <button>\n        <span class="icon" style="display: none;"></span>\n        <span class="label"></span>\n      </button>\n    ',t.querySelector("button").addEventListener("click",this.handleClick.bind(this))}connectedCallback(){this.id||(this.id=n("toolbar-button")),this.updateContent(),this.applyTheme(this._theme)}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"label":case"icon":this.updateContent();break;case"theme":this.theme=n;break;case"disabled":this.updateDisabled();break;case"active":this.updateActive()}}updateContent(){const t=this.shadowRoot,e=t.querySelector(".icon"),n=t.querySelector(".label"),i=this.getAttribute("icon"),o=this.getAttribute("label")||"";i?(e.textContent=i,e.style.display="inline-block"):e.style.display="none",n.textContent=o}updateDisabled(){this.shadowRoot.querySelector("button").disabled=this.hasAttribute("disabled")}updateActive(){this.shadowRoot.querySelector("button").classList.toggle("active",this.hasAttribute("active"))}handleClick(t){if(this.hasAttribute("disabled"))return;const e=new CustomEvent("toolbar-button-click",{detail:{buttonId:this.id,button:this},bubbles:!0,cancelable:!0});this.dispatchEvent(e)}get theme(){return this._theme}set theme(t){this._theme=t,this.applyTheme(t)}applyTheme(t){d(this,t)}get label(){return this.getAttribute("label")||""}set label(t){this.setAttribute("label",t)}get icon(){return this.getAttribute("icon")||""}set icon(t){this.setAttribute("icon",t)}get active(){return this.hasAttribute("active")}set active(t){t?this.setAttribute("active",""):this.removeAttribute("active")}}customElements.get("e2-toolbar-button")||customElements.define("e2-toolbar-button",A);class E extends HTMLElement{static get observedAttributes(){return["label","icon","theme","disabled"]}constructor(){super(),this._theme="auto",this._isOpen=!1,this._justOpened=!1,this.setupElement(),this.bindEvents()}setupElement(){const t=a(this);t.innerHTML='\n      <style>\n        :host {\n          display: inline-block;\n          position: relative;\n        }\n\n        .button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 4px;\n          padding: 6px 12px;\n          border: 1px solid transparent;\n          background: transparent;\n          color: var(--text-color, #333);\n          font-family: inherit;\n          font-size: inherit;\n          cursor: pointer;\n          border-radius: 3px;\n          min-height: 24px;\n          transition: all 0.15s ease;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n\n        .button:hover {\n          background: var(--button-hover-bg, rgba(0, 0, 0, 0.1));\n        }\n\n        .button:active,\n        .button.open {\n          background: var(--button-active-bg, rgba(0, 0, 0, 0.2));\n        }\n\n        .button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        :host(.theme-dark) .button {\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host(.theme-dark) .button:hover {\n          background: var(--button-hover-bg-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        :host(.theme-dark) .button:active,\n        :host(.theme-dark) .button.open {\n          background: var(--button-active-bg-dark, rgba(255, 255, 255, 0.2));\n        }\n\n        .icon {\n          width: 16px;\n          height: 16px;\n          flex-shrink: 0;\n        }\n\n        .label {\n          white-space: nowrap;\n        }\n\n        .dropdown-arrow {\n          width: 0;\n          height: 0;\n          border-left: 4px solid transparent;\n          border-right: 4px solid transparent;\n          border-top: 4px solid currentColor;\n          margin-left: 4px;\n          flex-shrink: 0;\n        }\n\n        .dropdown {\n          position: absolute;\n          top: 100%;\n          left: 0;\n          z-index: 9999;\n          display: none;\n          min-width: 180px;\n          background: var(--context-menu-bg, #ffffff);\n          border: 1px solid var(--context-menu-border, #d0d0d0);\n          border-radius: 4px;\n          box-shadow: var(--context-menu-shadow, 0 2px 8px rgba(0, 0, 0, 0.15));\n          padding: 4px 0;\n          font-family: inherit;\n          font-size: 14px;\n          margin-top: 2px;\n        }\n\n        .dropdown.open {\n          display: block;\n        }\n\n        :host(.theme-light) .dropdown {\n          background: var(--context-menu-bg-light, #ffffff);\n          border-color: var(--context-menu-border-light, #d0d0d0);\n          box-shadow: var(--context-menu-shadow-light, 0 2px 8px rgba(0, 0, 0, 0.15));\n        }\n\n        :host(.theme-dark) .dropdown {\n          background: var(--context-menu-bg-dark, #2a2a2a);\n          border-color: var(--context-menu-border-dark, #444444);\n          box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n        }\n\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) .dropdown {\n            background: var(--context-menu-bg-dark, #2a2a2a);\n            border-color: var(--context-menu-border-dark, #444444);\n            box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n          }\n        }\n\n        ::slotted(*) {\n          display: block;\n        }\n      </style>\n      <button class="button">\n        <span class="icon" style="display: none;"></span>\n        <span class="label"></span>\n        <div class="dropdown-arrow"></div>\n      </button>\n      <div class="dropdown">\n        <slot></slot>\n      </div>\n    ',t.querySelector(".button").addEventListener("click",this.handleButtonClick.bind(this))}bindEvents(){document.addEventListener("click",this.handleDocumentClick.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("resize",this.handleWindowResize.bind(this)),this.addEventListener("click",this.handleItemClick.bind(this))}connectedCallback(){this.id||(this.id=n("toolbar-menu")),this.updateContent(),this.applyTheme(this._theme)}attributeChangedCallback(t,e,n){if(e!==n)switch(t){case"label":case"icon":this.updateContent();break;case"theme":this.theme=n;break;case"disabled":this.updateDisabled()}}updateContent(){const t=this.shadowRoot,e=t.querySelector(".icon"),n=t.querySelector(".label"),i=this.getAttribute("icon"),o=this.getAttribute("label")||"";i?(e.textContent=i,e.style.display="inline-block"):e.style.display="none",n.textContent=o}updateDisabled(){this.shadowRoot.querySelector(".button").disabled=this.hasAttribute("disabled"),this.hasAttribute("disabled")&&this._isOpen&&this.close()}handleButtonClick(t){this.hasAttribute("disabled")||(t.stopPropagation(),this._isOpen?this.close():this.open())}handleDocumentClick(t){var e;if(!this._isOpen)return;if(this._justOpened)return void(this._justOpened=!1);const n=t.target;this.contains(n)||(null===(e=this.shadowRoot)||void 0===e?void 0:e.contains(n))||this.close()}handleKeyDown(t){if(this._isOpen)switch(t.key){case"Escape":t.preventDefault(),this.close();break;case"ArrowDown":t.preventDefault(),this.focusNextItem();break;case"ArrowUp":t.preventDefault(),this.focusPreviousItem();break;case"Enter":case" ":t.preventDefault(),this.activateFocusedItem()}}handleWindowResize(){this._isOpen&&this.close()}handleItemClick(t){const e=t.target;("E2-CONTEXT-MENU-ITEM"===e.tagName||e.closest("e2-context-menu-item"))&&setTimeout(()=>this.close(),0)}focusNextItem(){const t=this.querySelectorAll("e2-context-menu-item:not([disabled])"),e=Array.from(t).findIndex(t=>{var e;return t===document.activeElement||(null===(e=t.shadowRoot)||void 0===e?void 0:e.activeElement)});t[e<t.length-1?e+1:0].focus()}focusPreviousItem(){const t=this.querySelectorAll("e2-context-menu-item:not([disabled])"),e=Array.from(t).findIndex(t=>{var e;return t===document.activeElement||(null===(e=t.shadowRoot)||void 0===e?void 0:e.activeElement)});t[e>0?e-1:t.length-1].focus()}activateFocusedItem(){const t=document.activeElement;t&&"E2-CONTEXT-MENU-ITEM"===t.tagName&&t.click()}adjustPosition(){const t=this.shadowRoot.querySelector(".dropdown"),e=this.getBoundingClientRect(),n=t.getBoundingClientRect();e.left+n.width>window.innerWidth?(t.style.left="auto",t.style.right="0"):(t.style.left="0",t.style.right="auto"),e.bottom+n.height>window.innerHeight?(t.style.top="auto",t.style.bottom="100%",t.style.marginTop="0",t.style.marginBottom="2px"):(t.style.top="100%",t.style.bottom="auto",t.style.marginTop="2px",t.style.marginBottom="0")}get theme(){return this._theme}set theme(t){this._theme=t,this.applyTheme(t)}applyTheme(t){d(this,t),this.querySelectorAll("e2-context-menu-item, e2-context-menu-separator").forEach(e=>{"function"==typeof e.applyTheme&&e.applyTheme(t)})}get label(){return this.getAttribute("label")||""}set label(t){this.setAttribute("label",t)}get icon(){return this.getAttribute("icon")||""}set icon(t){this.setAttribute("icon",t)}get isOpen(){return this._isOpen}open(){if(this.hasAttribute("disabled")||this._isOpen)return;const t=this.closest("e2-toolbar");t&&"function"==typeof t.closeAllMenus&&t.closeAllMenus(this),this._isOpen=!0;const e=this.shadowRoot.querySelector(".button"),n=this.shadowRoot.querySelector(".dropdown");e.classList.add("open"),n.classList.add("open"),this.adjustPosition(),this._justOpened=!0,this.applyTheme(this._theme);const i=new CustomEvent("toolbar-menu-show",{detail:{menuId:this.id,menu:this},bubbles:!0,cancelable:!0});this.dispatchEvent(i)}close(){if(!this._isOpen)return;this._isOpen=!1;const t=this.shadowRoot.querySelector(".button"),e=this.shadowRoot.querySelector(".dropdown");t.classList.remove("open"),e.classList.remove("open");const n=new CustomEvent("toolbar-menu-hide",{detail:{menuId:this.id,menu:this},bubbles:!0,cancelable:!0});this.dispatchEvent(n)}toggle(){this._isOpen?this.close():this.open()}}customElements.get("e2-toolbar-menu")||customElements.define("e2-toolbar-menu",E);class C extends HTMLElement{static get observedAttributes(){return["theme"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){a(this).innerHTML="\n      <style>\n        :host {\n          display: inline-block;\n          width: 1px;\n          height: 24px;\n          background: var(--separator-color, #ccc);\n          margin: 0 4px;\n          flex-shrink: 0;\n        }\n\n        :host(.theme-dark) {\n          background: var(--separator-color-dark, #555);\n        }\n      </style>\n    "}connectedCallback(){this.applyTheme(this._theme)}attributeChangedCallback(t,e,n){e!==n&&"theme"===t&&(this.theme=n)}get theme(){return this._theme}set theme(t){this._theme=t,this.applyTheme(t)}applyTheme(t){d(this,t)}}customElements.get("e2-toolbar-separator")||customElements.define("e2-toolbar-separator",C);const T="1.0.0";return e})());
//# sourceMappingURL=e2.min.js.map