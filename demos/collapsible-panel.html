<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>E2 - Editor Elements - Collapsible Panel Demo</title>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <div class="theme-controls">
      <button class="theme-button active" onclick="setTheme('light')">
        Light
      </button>
      <button class="theme-button" onclick="setTheme('dark')">Dark</button>
      <button class="theme-button" onclick="setTheme('auto')">Auto</button>
    </div>

    <header>
      <h1>
        <a href="index.html">&laquo;</a>
        E2 - Collapsible Panel Demo
      </h1>
      <p>
        Interactive demonstration of the
        <code>&lt;e2-collapsible-panel&gt;</code> element
      </p>
    </header>

    <main>
      <div class="demo-section">
        <h3>Vertical Panels (Default)</h3>
        <p>
          Panels that collapse/expand vertically, useful for sidebars and tool
          panels.
        </p>

        <div class="panels-container">
          <div class="vertical-panel-demo">
            <e2-collapsible-panel id="vertical-panel-1" orientation="vertical">
              <span slot="title">Properties Panel</span>
              <div class="sample-content">
                <h4>Object Properties</h4>
                <p>Position: (100, 50)</p>
                <p>Size: 200x150</p>
                <p>Rotation: 45¬∞</p>
                <ul>
                  <li>Visible: Yes</li>
                  <li>Locked: No</li>
                  <li>Layer: Foreground</li>
                </ul>
              </div>
            </e2-collapsible-panel>
          </div>

          <div class="vertical-panel-demo">
            <e2-collapsible-panel
              id="vertical-panel-2"
              orientation="vertical"
              collapsed
            >
              <span slot="title">Layers Panel</span>
              <div class="sample-content">
                <h4>Layer Structure</h4>
                <ul>
                  <li>Background Layer</li>
                  <li>Main Content</li>
                  <li>UI Elements</li>
                  <li>Debug Overlay</li>
                </ul>
              </div>
            </e2-collapsible-panel>
          </div>
        </div>
      </div>

      <div class="demo-section">
        <h3>Horizontal Panels</h3>
        <p>
          Panels that collapse/expand horizontally, useful for toolboxes and
          inspector panels.
        </p>

        <div class="horizontal-panel-demo">
          <e2-collapsible-panel
            id="horizontal-panel-1"
            orientation="horizontal"
          >
            <span slot="title">Tools</span>
            <div class="sample-content">
              <h4>Drawing Tools</h4>
              <p>Select your tool:</p>
              <ul>
                <li>Brush</li>
                <li>Eraser</li>
                <li>Fill Bucket</li>
                <li>Text Tool</li>
              </ul>
            </div>
          </e2-collapsible-panel>

          <e2-collapsible-panel
            id="horizontal-panel-2"
            orientation="horizontal"
            collapsed
          >
            <span slot="title">Colors</span>
            <div class="sample-content">
              <h4>Color Palette</h4>
              <p>Primary: #ff0000</p>
              <p>Secondary: #00ff00</p>
              <p>Background: #ffffff</p>
            </div>
          </e2-collapsible-panel>
        </div>
      </div>

      <div class="demo-section">
        <h3>Dark Theme</h3>
        <div class="dark-theme-demo">
          <e2-collapsible-panel
            id="dark-panel"
            theme="dark"
            orientation="vertical"
          >
            <span slot="title">Dark Theme Panel</span>
            <div class="sample-content">
              <h4>Dark Mode Content</h4>
              <p>This panel uses the dark theme.</p>
              <p>Perfect for night-time editing sessions!</p>
            </div>
          </e2-collapsible-panel>
        </div>
      </div>

      <div class="demo-section">
        <h2>Copy-Paste Examples</h2>
        <p>Ready-to-use code snippets for your projects:</p>

        <div class="code-example">
          <h3>Basic Vertical Panel HTML:</h3>
          <button class="copy-button" onclick="copyToClipboard('panel-html')">
            Copy
          </button>
          <pre id="panel-html">
&lt;!-- Load E2 Library --&gt;
&lt;script src="path/to/e2.min.js"&gt;&lt;/script&gt;

&lt;!-- Basic Collapsible Panel --&gt;
&lt;e2-collapsible-panel
  title="Panel Title"
  expanded
  icon="üìÅ"&gt;
  &lt;div&gt;
    &lt;h4&gt;Content Title&lt;/h4&gt;
    &lt;p&gt;Your panel content goes here...&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;List item 1&lt;/li&gt;
      &lt;li&gt;List item 2&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/e2-collapsible-panel&gt;</pre
          >
        </div>

        <div class="code-example">
          <h3>Horizontal Panel:</h3>
          <button
            class="copy-button"
            onclick="copyToClipboard('panel-horizontal')"
          >
            Copy
          </button>
          <pre id="panel-horizontal">
&lt;e2-collapsible-panel
  title="Horizontal Panel"
  orientation="horizontal"
  expanded&gt;
  &lt;div&gt;Panel content...&lt;/div&gt;
&lt;/e2-collapsible-panel&gt;</pre
          >
        </div>

        <div class="code-example">
          <h3>JavaScript Control:</h3>
          <button class="copy-button" onclick="copyToClipboard('panel-js')">
            Copy
          </button>
          <pre id="panel-js">
// Get panel reference
const panel = document.querySelector('e2-collapsible-panel');

// Control programmatically
panel.expand();    // Expand panel
panel.collapse();  // Collapse panel
panel.toggle();    // Toggle state

// Listen for events
panel.addEventListener('expand', () => {
  console.log('Panel expanded');
});

panel.addEventListener('collapse', () => {
  console.log('Panel collapsed');
});

// Change properties
panel.title = "New Title";
panel.orientation = "horizontal";</pre
          >
        </div>
      </div>

      <div class="demo-section">
        <h3>Programmatic Controls</h3>
        <div class="controls">
          <button onclick="togglePanel('vertical-panel-1')">
            Toggle Vertical Panel 1
          </button>
          <button onclick="togglePanel('vertical-panel-2')">
            Toggle Vertical Panel 2
          </button>
          <button onclick="togglePanel('horizontal-panel-1')">
            Toggle Horizontal Panel 1
          </button>
          <button onclick="togglePanel('horizontal-panel-2')">
            Toggle Horizontal Panel 2
          </button>
          <br />
          <button onclick="expandAll()">Expand All</button>
          <button onclick="collapseAll()">Collapse All</button>
          <button onclick="switchOrientation()">
            Switch First Panel Orientation
          </button>
        </div>

        <div class="demo-section">
          <h3>Output</h3>
          <p>Panel events will appear here:</p>
          <div class="output" id="panel-output"></div>
        </div>
      </div>
    </main>

    <!-- Load the library -->
    <script src="../build/e2.min.js"></script>

    <script>
      // Add event listeners to demonstrate functionality
      const output = document.getElementById('panel-output');

      // Listen for panel toggle events
      document.addEventListener('collapsible-panel-toggle', event => {
        const { panelId, collapsed, orientation } = event.detail;
        const timestamp = new Date().toLocaleTimeString();

        output.innerHTML += `
          <div>[${timestamp}] Panel "${panelId}" ${
            collapsed ? 'collapsed' : 'expanded'
          } (${orientation})</div>
        `;
        output.scrollTop = output.scrollHeight;
      });

      // Control functions
      function togglePanel(panelId) {
        const panel = document.getElementById(panelId);
        if (panel) {
          panel.toggle();
        }
      }

      function expandAll() {
        const panels = document.querySelectorAll('e2-collapsible-panel');
        panels.forEach(panel => panel.expand());

        const timestamp = new Date().toLocaleTimeString();
        output.innerHTML += `
          <div>[${timestamp}] All panels expanded</div>
        `;
        output.scrollTop = output.scrollHeight;
      }

      function collapseAll() {
        const panels = document.querySelectorAll('e2-collapsible-panel');
        panels.forEach(panel => panel.collapse());

        const timestamp = new Date().toLocaleTimeString();
        output.innerHTML += `
          <div>[${timestamp}] All panels collapsed</div>
        `;
        output.scrollTop = output.scrollHeight;
      }

      function switchOrientation() {
        const panel = document.getElementById('vertical-panel-1');
        if (panel) {
          const currentOrientation = panel.orientation;
          const newOrientation =
            currentOrientation === 'vertical' ? 'horizontal' : 'vertical';
          panel.orientation = newOrientation;

          const timestamp = new Date().toLocaleTimeString();
          output.innerHTML += `
            <div>[${timestamp}] Panel orientation switched to ${newOrientation}</div>
          `;
          output.scrollTop = output.scrollHeight;
        }
      }

      // Copy to clipboard functionality
      function copyToClipboard(id) {
        const element = document.getElementById(id);
        const text = element.textContent;
        navigator.clipboard.writeText(text).then(() => {
          const button = element.previousElementSibling;
          const originalText = button.textContent;
          button.textContent = 'Copied!';
          setTimeout(() => {
            button.textContent = originalText;
          }, 2000);
        });
      }

      // Theme control
      let currentTheme = 'light';

      function setTheme(theme) {
        currentTheme = theme;
        document.body.className = theme === 'auto' ? '' : `theme-${theme}`;

        // Update theme buttons
        document.querySelectorAll('.theme-button').forEach(btn => {
          btn.classList.remove('active');
        });
        event.target.classList.add('active');

        // Apply theme to all collapsible panel elements
        document.querySelectorAll('e2-collapsible-panel').forEach(panel => {
          panel.theme = theme;
        });
      }

      console.log('E2 loaded:', E2);
      console.log('Version:', E2.VERSION);
    </script>
  </body>
</html>
